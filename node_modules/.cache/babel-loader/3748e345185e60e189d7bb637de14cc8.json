{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.domain = void 0;\n\nconst array_1 = require(\"./array\");\n\nconst CharacterRangeArbitraryBuilder_1 = require(\"./_internals/builders/CharacterRangeArbitraryBuilder\");\n\nconst option_1 = require(\"./option\");\n\nconst stringOf_1 = require(\"./stringOf\");\n\nconst tuple_1 = require(\"./tuple\");\n\nconst InvalidSubdomainLabelFiIter_1 = require(\"./_internals/helpers/InvalidSubdomainLabelFiIter\");\n\nconst MaxLengthFromMinLength_1 = require(\"./_internals/helpers/MaxLengthFromMinLength\");\n\nconst AdapterArbitrary_1 = require(\"./_internals/AdapterArbitrary\");\n\nfunction toSubdomainLabelMapper(_ref) {\n  let [f, d] = _ref;\n  return d === null ? f : `${f}${d[0]}${d[1]}`;\n}\n\nfunction toSubdomainLabelUnmapper(value) {\n  if (typeof value !== 'string' || value.length === 0) {\n    throw new Error('Unsupported');\n  }\n\n  if (value.length === 1) {\n    return [value[0], null];\n  }\n\n  return [value[0], [value.substring(1, value.length - 1), value[value.length - 1]]];\n}\n\nfunction subdomainLabel(size) {\n  const alphaNumericArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaNumericArbitrary)([]);\n  const alphaNumericHyphenArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaNumericArbitrary)(['-']);\n  return (0, tuple_1.tuple)(alphaNumericArb, (0, option_1.option)((0, tuple_1.tuple)((0, stringOf_1.stringOf)(alphaNumericHyphenArb, {\n    size,\n    maxLength: 61\n  }), alphaNumericArb))).map(toSubdomainLabelMapper, toSubdomainLabelUnmapper).filter(InvalidSubdomainLabelFiIter_1.filterInvalidSubdomainLabel);\n}\n\nfunction labelsMapper(elements) {\n  return `${elements[0].join('.')}.${elements[1]}`;\n}\n\nfunction labelsUnmapper(value) {\n  if (typeof value !== 'string') {\n    throw new Error('Unsupported type');\n  }\n\n  const lastDotIndex = value.lastIndexOf('.');\n  return [value.substring(0, lastDotIndex).split('.'), value.substring(lastDotIndex + 1)];\n}\n\nfunction labelsAdapter(labels) {\n  const [subDomains, suffix] = labels;\n  let lengthNotIncludingIndex = suffix.length;\n\n  for (let index = 0; index !== subDomains.length; ++index) {\n    lengthNotIncludingIndex += 1 + subDomains[index].length;\n\n    if (lengthNotIncludingIndex > 255) {\n      return {\n        adapted: true,\n        value: [subDomains.slice(0, index), suffix]\n      };\n    }\n  }\n\n  return {\n    adapted: false,\n    value: labels\n  };\n}\n\nfunction domain() {\n  let constraints = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const resolvedSize = (0, MaxLengthFromMinLength_1.resolveSize)(constraints.size);\n  const resolvedSizeMinusOne = (0, MaxLengthFromMinLength_1.relativeSizeToSize)('-1', resolvedSize);\n  const alphaNumericArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaArbitrary)([]);\n  const publicSuffixArb = (0, stringOf_1.stringOf)(alphaNumericArb, {\n    minLength: 2,\n    maxLength: 63,\n    size: resolvedSizeMinusOne\n  });\n  return (0, AdapterArbitrary_1.adapter)((0, tuple_1.tuple)((0, array_1.array)(subdomainLabel(resolvedSize), {\n    size: resolvedSizeMinusOne,\n    minLength: 1,\n    maxLength: 127\n  }), publicSuffixArb), labelsAdapter).map(labelsMapper, labelsUnmapper);\n}\n\nexports.domain = domain;","map":{"version":3,"names":["Object","defineProperty","exports","value","domain","array_1","require","CharacterRangeArbitraryBuilder_1","option_1","stringOf_1","tuple_1","InvalidSubdomainLabelFiIter_1","MaxLengthFromMinLength_1","AdapterArbitrary_1","toSubdomainLabelMapper","f","d","toSubdomainLabelUnmapper","length","Error","substring","subdomainLabel","size","alphaNumericArb","buildLowerAlphaNumericArbitrary","alphaNumericHyphenArb","tuple","option","stringOf","maxLength","map","filter","filterInvalidSubdomainLabel","labelsMapper","elements","join","labelsUnmapper","lastDotIndex","lastIndexOf","split","labelsAdapter","labels","subDomains","suffix","lengthNotIncludingIndex","index","adapted","slice","constraints","resolvedSize","resolveSize","resolvedSizeMinusOne","relativeSizeToSize","buildLowerAlphaArbitrary","publicSuffixArb","minLength","adapter","array"],"sources":["/Users/tranminhtrung/Desktop/learn_web3/gamble/node_modules/fast-check/lib/arbitrary/domain.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.domain = void 0;\nconst array_1 = require(\"./array\");\nconst CharacterRangeArbitraryBuilder_1 = require(\"./_internals/builders/CharacterRangeArbitraryBuilder\");\nconst option_1 = require(\"./option\");\nconst stringOf_1 = require(\"./stringOf\");\nconst tuple_1 = require(\"./tuple\");\nconst InvalidSubdomainLabelFiIter_1 = require(\"./_internals/helpers/InvalidSubdomainLabelFiIter\");\nconst MaxLengthFromMinLength_1 = require(\"./_internals/helpers/MaxLengthFromMinLength\");\nconst AdapterArbitrary_1 = require(\"./_internals/AdapterArbitrary\");\nfunction toSubdomainLabelMapper([f, d]) {\n    return d === null ? f : `${f}${d[0]}${d[1]}`;\n}\nfunction toSubdomainLabelUnmapper(value) {\n    if (typeof value !== 'string' || value.length === 0) {\n        throw new Error('Unsupported');\n    }\n    if (value.length === 1) {\n        return [value[0], null];\n    }\n    return [value[0], [value.substring(1, value.length - 1), value[value.length - 1]]];\n}\nfunction subdomainLabel(size) {\n    const alphaNumericArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaNumericArbitrary)([]);\n    const alphaNumericHyphenArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaNumericArbitrary)(['-']);\n    return (0, tuple_1.tuple)(alphaNumericArb, (0, option_1.option)((0, tuple_1.tuple)((0, stringOf_1.stringOf)(alphaNumericHyphenArb, { size, maxLength: 61 }), alphaNumericArb)))\n        .map(toSubdomainLabelMapper, toSubdomainLabelUnmapper)\n        .filter(InvalidSubdomainLabelFiIter_1.filterInvalidSubdomainLabel);\n}\nfunction labelsMapper(elements) {\n    return `${elements[0].join('.')}.${elements[1]}`;\n}\nfunction labelsUnmapper(value) {\n    if (typeof value !== 'string') {\n        throw new Error('Unsupported type');\n    }\n    const lastDotIndex = value.lastIndexOf('.');\n    return [value.substring(0, lastDotIndex).split('.'), value.substring(lastDotIndex + 1)];\n}\nfunction labelsAdapter(labels) {\n    const [subDomains, suffix] = labels;\n    let lengthNotIncludingIndex = suffix.length;\n    for (let index = 0; index !== subDomains.length; ++index) {\n        lengthNotIncludingIndex += 1 + subDomains[index].length;\n        if (lengthNotIncludingIndex > 255) {\n            return { adapted: true, value: [subDomains.slice(0, index), suffix] };\n        }\n    }\n    return { adapted: false, value: labels };\n}\nfunction domain(constraints = {}) {\n    const resolvedSize = (0, MaxLengthFromMinLength_1.resolveSize)(constraints.size);\n    const resolvedSizeMinusOne = (0, MaxLengthFromMinLength_1.relativeSizeToSize)('-1', resolvedSize);\n    const alphaNumericArb = (0, CharacterRangeArbitraryBuilder_1.buildLowerAlphaArbitrary)([]);\n    const publicSuffixArb = (0, stringOf_1.stringOf)(alphaNumericArb, { minLength: 2, maxLength: 63, size: resolvedSizeMinusOne });\n    return ((0, AdapterArbitrary_1.adapter)((0, tuple_1.tuple)((0, array_1.array)(subdomainLabel(resolvedSize), { size: resolvedSizeMinusOne, minLength: 1, maxLength: 127 }), publicSuffixArb), labelsAdapter).map(labelsMapper, labelsUnmapper));\n}\nexports.domain = domain;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n/**\n * Methods for traversing the DOM structure.\n *\n * @module cheerio/traversing\n */\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addBack = exports.add = exports.end = exports.slice = exports.index = exports.toArray = exports.get = exports.eq = exports.last = exports.first = exports.has = exports.not = exports.is = exports.filterArray = exports.filter = exports.map = exports.each = exports.contents = exports.children = exports.siblings = exports.prevUntil = exports.prevAll = exports.prev = exports.nextUntil = exports.nextAll = exports.next = exports.closest = exports.parentsUntil = exports.parents = exports.parent = exports.find = void 0;\n\nvar domhandler_1 = require(\"domhandler\");\n\nvar select = __importStar(require(\"cheerio-select\"));\n\nvar utils_js_1 = require(\"../utils.js\");\n\nvar static_js_1 = require(\"../static.js\");\n\nvar domutils_1 = require(\"domutils\");\n\nvar reSiblingSelector = /^\\s*[~+]/;\n/**\n * Get the descendants of each element in the current set of matched elements,\n * filtered by a selector, jQuery object, or element.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('#fruits').find('li').length;\n * //=> 3\n * $('#fruits').find($('.apple')).length;\n * //=> 1\n * ```\n *\n * @param selectorOrHaystack - Element to look for.\n * @returns The found elements.\n * @see {@link https://api.jquery.com/find/}\n */\n\nfunction find(selectorOrHaystack) {\n  var _a;\n\n  if (!selectorOrHaystack) {\n    return this._make([]);\n  }\n\n  var context = this.toArray();\n\n  if (typeof selectorOrHaystack !== 'string') {\n    var haystack = (0, utils_js_1.isCheerio)(selectorOrHaystack) ? selectorOrHaystack.toArray() : [selectorOrHaystack];\n    return this._make(haystack.filter(function (elem) {\n      return context.some(function (node) {\n        return (0, static_js_1.contains)(node, elem);\n      });\n    }));\n  }\n\n  var elems = reSiblingSelector.test(selectorOrHaystack) ? context : this.children().toArray();\n  var options = {\n    context: context,\n    root: (_a = this._root) === null || _a === void 0 ? void 0 : _a[0],\n    // Pass options that are recognized by `cheerio-select`\n    xmlMode: this.options.xmlMode,\n    lowerCaseTags: this.options.lowerCaseTags,\n    lowerCaseAttributeNames: this.options.lowerCaseAttributeNames,\n    pseudos: this.options.pseudos,\n    quirksMode: this.options.quirksMode\n  };\n  return this._make(select.select(selectorOrHaystack, elems, options));\n}\n\nexports.find = find;\n/**\n * Creates a matcher, using a particular mapping function. Matchers provide a\n * function that finds elements using a generating function, supporting filtering.\n *\n * @private\n * @param matchMap - Mapping function.\n * @returns - Function for wrapping generating functions.\n */\n\nfunction _getMatcher(matchMap) {\n  return function (fn) {\n    var postFns = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      postFns[_i - 1] = arguments[_i];\n    }\n\n    return function (selector) {\n      var _a;\n\n      var matched = matchMap(fn, this);\n\n      if (selector) {\n        matched = filterArray(matched, selector, this.options.xmlMode, (_a = this._root) === null || _a === void 0 ? void 0 : _a[0]);\n      }\n\n      return this._make( // Post processing is only necessary if there is more than one element.\n      this.length > 1 && matched.length > 1 ? postFns.reduce(function (elems, fn) {\n        return fn(elems);\n      }, matched) : matched);\n    };\n  };\n}\n/** Matcher that adds multiple elements for each entry in the input. */\n\n\nvar _matcher = _getMatcher(function (fn, elems) {\n  var _a;\n\n  var ret = [];\n\n  for (var i = 0; i < elems.length; i++) {\n    var value = fn(elems[i]);\n    ret.push(value);\n  }\n\n  return (_a = new Array()).concat.apply(_a, ret);\n});\n/** Matcher that adds at most one element for each entry in the input. */\n\n\nvar _singleMatcher = _getMatcher(function (fn, elems) {\n  var ret = [];\n\n  for (var i = 0; i < elems.length; i++) {\n    var value = fn(elems[i]);\n\n    if (value !== null) {\n      ret.push(value);\n    }\n  }\n\n  return ret;\n});\n/**\n * Matcher that supports traversing until a condition is met.\n *\n * @returns A function usable for `*Until` methods.\n */\n\n\nfunction _matchUntil(nextElem) {\n  var postFns = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    postFns[_i - 1] = arguments[_i];\n  } // We use a variable here that is used from within the matcher.\n\n\n  var matches = null;\n\n  var innerMatcher = _getMatcher(function (nextElem, elems) {\n    var matched = [];\n    (0, utils_js_1.domEach)(elems, function (elem) {\n      for (var next_1; next_1 = nextElem(elem); elem = next_1) {\n        // FIXME: `matched` might contain duplicates here and the index is too large.\n        if (matches === null || matches === void 0 ? void 0 : matches(next_1, matched.length)) break;\n        matched.push(next_1);\n      }\n    });\n    return matched;\n  }).apply(void 0, __spreadArray([nextElem], postFns, false));\n\n  return function (selector, filterSelector) {\n    var _this = this; // Override `matches` variable with the new target.\n\n\n    matches = typeof selector === 'string' ? function (elem) {\n      return select.is(elem, selector, _this.options);\n    } : selector ? getFilterFn(selector) : null;\n    var ret = innerMatcher.call(this, filterSelector); // Set `matches` to `null`, so we don't waste memory.\n\n    matches = null;\n    return ret;\n  };\n}\n\nfunction _removeDuplicates(elems) {\n  return Array.from(new Set(elems));\n}\n/**\n * Get the parent of each element in the current set of matched elements,\n * optionally filtered by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.pear').parent().attr('id');\n * //=> fruits\n * ```\n *\n * @param selector - If specified filter for parent.\n * @returns The parents.\n * @see {@link https://api.jquery.com/parent/}\n */\n\n\nexports.parent = _singleMatcher(function (_a) {\n  var parent = _a.parent;\n  return parent && !(0, domhandler_1.isDocument)(parent) ? parent : null;\n}, _removeDuplicates);\n/**\n * Get a set of parents filtered by `selector` of each element in the current\n * set of match elements.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.orange').parents().length;\n * //=> 2\n * $('.orange').parents('#fruits').length;\n * //=> 1\n * ```\n *\n * @param selector - If specified filter for parents.\n * @returns The parents.\n * @see {@link https://api.jquery.com/parents/}\n */\n\nexports.parents = _matcher(function (elem) {\n  var matched = [];\n\n  while (elem.parent && !(0, domhandler_1.isDocument)(elem.parent)) {\n    matched.push(elem.parent);\n    elem = elem.parent;\n  }\n\n  return matched;\n}, domutils_1.uniqueSort, function (elems) {\n  return elems.reverse();\n});\n/**\n * Get the ancestors of each element in the current set of matched elements, up\n * to but not including the element matched by the selector, DOM node, or cheerio object.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.orange').parentsUntil('#food').length;\n * //=> 1\n * ```\n *\n * @param selector - Selector for element to stop at.\n * @param filterSelector - Optional filter for parents.\n * @returns The parents.\n * @see {@link https://api.jquery.com/parentsUntil/}\n */\n\nexports.parentsUntil = _matchUntil(function (_a) {\n  var parent = _a.parent;\n  return parent && !(0, domhandler_1.isDocument)(parent) ? parent : null;\n}, domutils_1.uniqueSort, function (elems) {\n  return elems.reverse();\n});\n/**\n * For each element in the set, get the first element that matches the selector\n * by testing the element itself and traversing up through its ancestors in the DOM tree.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.orange').closest();\n * //=> []\n *\n * $('.orange').closest('.apple');\n * // => []\n *\n * $('.orange').closest('li');\n * //=> [<li class=\"orange\">Orange</li>]\n *\n * $('.orange').closest('#fruits');\n * //=> [<ul id=\"fruits\"> ... </ul>]\n * ```\n *\n * @param selector - Selector for the element to find.\n * @returns The closest nodes.\n * @see {@link https://api.jquery.com/closest/}\n */\n\nfunction closest(selector) {\n  var _a;\n\n  var set = [];\n\n  if (!selector) {\n    return this._make(set);\n  }\n\n  var selectOpts = {\n    xmlMode: this.options.xmlMode,\n    root: (_a = this._root) === null || _a === void 0 ? void 0 : _a[0]\n  };\n  var selectFn = typeof selector === 'string' ? function (elem) {\n    return select.is(elem, selector, selectOpts);\n  } : getFilterFn(selector);\n  (0, utils_js_1.domEach)(this, function (elem) {\n    while (elem && (0, utils_js_1.isTag)(elem)) {\n      if (selectFn(elem, 0)) {\n        // Do not add duplicate elements to the set\n        if (!set.includes(elem)) {\n          set.push(elem);\n        }\n\n        break;\n      }\n\n      elem = elem.parent;\n    }\n  });\n  return this._make(set);\n}\n\nexports.closest = closest;\n/**\n * Gets the next sibling of the first selected element, optionally filtered by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.apple').next().hasClass('orange');\n * //=> true\n * ```\n *\n * @param selector - If specified filter for sibling.\n * @returns The next nodes.\n * @see {@link https://api.jquery.com/next/}\n */\n\nexports.next = _singleMatcher(function (elem) {\n  return (0, domutils_1.nextElementSibling)(elem);\n});\n/**\n * Gets all the following siblings of the first selected element, optionally\n * filtered by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.apple').nextAll();\n * //=> [<li class=\"orange\">Orange</li>, <li class=\"pear\">Pear</li>]\n * $('.apple').nextAll('.orange');\n * //=> [<li class=\"orange\">Orange</li>]\n * ```\n *\n * @param selector - If specified filter for siblings.\n * @returns The next nodes.\n * @see {@link https://api.jquery.com/nextAll/}\n */\n\nexports.nextAll = _matcher(function (elem) {\n  var matched = [];\n\n  while (elem.next) {\n    elem = elem.next;\n    if ((0, utils_js_1.isTag)(elem)) matched.push(elem);\n  }\n\n  return matched;\n}, _removeDuplicates);\n/**\n * Gets all the following siblings up to but not including the element matched\n * by the selector, optionally filtered by another selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.apple').nextUntil('.pear');\n * //=> [<li class=\"orange\">Orange</li>]\n * ```\n *\n * @param selector - Selector for element to stop at.\n * @param filterSelector - If specified filter for siblings.\n * @returns The next nodes.\n * @see {@link https://api.jquery.com/nextUntil/}\n */\n\nexports.nextUntil = _matchUntil(function (el) {\n  return (0, domutils_1.nextElementSibling)(el);\n}, _removeDuplicates);\n/**\n * Gets the previous sibling of the first selected element optionally filtered\n * by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.orange').prev().hasClass('apple');\n * //=> true\n * ```\n *\n * @param selector - If specified filter for siblings.\n * @returns The previous nodes.\n * @see {@link https://api.jquery.com/prev/}\n */\n\nexports.prev = _singleMatcher(function (elem) {\n  return (0, domutils_1.prevElementSibling)(elem);\n});\n/**\n * Gets all the preceding siblings of the first selected element, optionally\n * filtered by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.pear').prevAll();\n * //=> [<li class=\"orange\">Orange</li>, <li class=\"apple\">Apple</li>]\n *\n * $('.pear').prevAll('.orange');\n * //=> [<li class=\"orange\">Orange</li>]\n * ```\n *\n * @param selector - If specified filter for siblings.\n * @returns The previous nodes.\n * @see {@link https://api.jquery.com/prevAll/}\n */\n\nexports.prevAll = _matcher(function (elem) {\n  var matched = [];\n\n  while (elem.prev) {\n    elem = elem.prev;\n    if ((0, utils_js_1.isTag)(elem)) matched.push(elem);\n  }\n\n  return matched;\n}, _removeDuplicates);\n/**\n * Gets all the preceding siblings up to but not including the element matched\n * by the selector, optionally filtered by another selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.pear').prevUntil('.apple');\n * //=> [<li class=\"orange\">Orange</li>]\n * ```\n *\n * @param selector - Selector for element to stop at.\n * @param filterSelector - If specified filter for siblings.\n * @returns The previous nodes.\n * @see {@link https://api.jquery.com/prevUntil/}\n */\n\nexports.prevUntil = _matchUntil(function (el) {\n  return (0, domutils_1.prevElementSibling)(el);\n}, _removeDuplicates);\n/**\n * Get the siblings of each element (excluding the element) in the set of\n * matched elements, optionally filtered by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.pear').siblings().length;\n * //=> 2\n *\n * $('.pear').siblings('.orange').length;\n * //=> 1\n * ```\n *\n * @param selector - If specified filter for siblings.\n * @returns The siblings.\n * @see {@link https://api.jquery.com/siblings/}\n */\n\nexports.siblings = _matcher(function (elem) {\n  return (0, domutils_1.getSiblings)(elem).filter(function (el) {\n    return (0, utils_js_1.isTag)(el) && el !== elem;\n  });\n}, domutils_1.uniqueSort);\n/**\n * Gets the element children of each element in the set of matched elements.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('#fruits').children().length;\n * //=> 3\n *\n * $('#fruits').children('.pear').text();\n * //=> Pear\n * ```\n *\n * @param selector - If specified filter for children.\n * @returns The children.\n * @see {@link https://api.jquery.com/children/}\n */\n\nexports.children = _matcher(function (elem) {\n  return (0, domutils_1.getChildren)(elem).filter(utils_js_1.isTag);\n}, _removeDuplicates);\n/**\n * Gets the children of each element in the set of matched elements, including\n * text and comment nodes.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('#fruits').contents().length;\n * //=> 3\n * ```\n *\n * @returns The children.\n * @see {@link https://api.jquery.com/contents/}\n */\n\nfunction contents() {\n  var elems = this.toArray().reduce(function (newElems, elem) {\n    return (0, domhandler_1.hasChildren)(elem) ? newElems.concat(elem.children) : newElems;\n  }, []);\n  return this._make(elems);\n}\n\nexports.contents = contents;\n/**\n * Iterates over a cheerio object, executing a function for each matched\n * element. When the callback is fired, the function is fired in the context of\n * the DOM element, so `this` refers to the current element, which is equivalent\n * to the function parameter `element`. To break out of the `each` loop early,\n * return with `false`.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * const fruits = [];\n *\n * $('li').each(function (i, elem) {\n *   fruits[i] = $(this).text();\n * });\n *\n * fruits.join(', ');\n * //=> Apple, Orange, Pear\n * ```\n *\n * @param fn - Function to execute.\n * @returns The instance itself, useful for chaining.\n * @see {@link https://api.jquery.com/each/}\n */\n\nfunction each(fn) {\n  var i = 0;\n  var len = this.length;\n\n  while (i < len && fn.call(this[i], i, this[i]) !== false) ++i;\n\n  return this;\n}\n\nexports.each = each;\n/**\n * Pass each element in the current matched set through a function, producing a\n * new Cheerio object containing the return values. The function can return an\n * individual data item or an array of data items to be inserted into the\n * resulting set. If an array is returned, the elements inside the array are\n * inserted into the set. If the function returns null or undefined, no element\n * will be inserted.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('li')\n *   .map(function (i, el) {\n *     // this === el\n *     return $(this).text();\n *   })\n *   .toArray()\n *   .join(' ');\n * //=> \"apple orange pear\"\n * ```\n *\n * @param fn - Function to execute.\n * @returns The mapped elements, wrapped in a Cheerio collection.\n * @see {@link https://api.jquery.com/map/}\n */\n\nfunction map(fn) {\n  var elems = [];\n\n  for (var i = 0; i < this.length; i++) {\n    var el = this[i];\n    var val = fn.call(el, i, el);\n\n    if (val != null) {\n      elems = elems.concat(val);\n    }\n  }\n\n  return this._make(elems);\n}\n\nexports.map = map;\n/**\n * Creates a function to test if a filter is matched.\n *\n * @param match - A filter.\n * @returns A function that determines if a filter has been matched.\n */\n\nfunction getFilterFn(match) {\n  if (typeof match === 'function') {\n    return function (el, i) {\n      return match.call(el, i, el);\n    };\n  }\n\n  if ((0, utils_js_1.isCheerio)(match)) {\n    return function (el) {\n      return Array.prototype.includes.call(match, el);\n    };\n  }\n\n  return function (el) {\n    return match === el;\n  };\n}\n\nfunction filter(match) {\n  var _a;\n\n  return this._make(filterArray(this.toArray(), match, this.options.xmlMode, (_a = this._root) === null || _a === void 0 ? void 0 : _a[0]));\n}\n\nexports.filter = filter;\n\nfunction filterArray(nodes, match, xmlMode, root) {\n  return typeof match === 'string' ? select.filter(match, nodes, {\n    xmlMode: xmlMode,\n    root: root\n  }) : nodes.filter(getFilterFn(match));\n}\n\nexports.filterArray = filterArray;\n/**\n * Checks the current list of elements and returns `true` if _any_ of the\n * elements match the selector. If using an element or Cheerio selection,\n * returns `true` if _any_ of the elements match. If using a predicate function,\n * the function is executed in the context of the selected element, so `this`\n * refers to the current element.\n *\n * @category Attributes\n * @param selector - Selector for the selection.\n * @returns Whether or not the selector matches an element of the instance.\n * @see {@link https://api.jquery.com/is/}\n */\n\nfunction is(selector) {\n  var nodes = this.toArray();\n  return typeof selector === 'string' ? select.some(nodes.filter(utils_js_1.isTag), selector, this.options) : selector ? nodes.some(getFilterFn(selector)) : false;\n}\n\nexports.is = is;\n/**\n * Remove elements from the set of matched elements. Given a Cheerio object that\n * represents a set of DOM elements, the `.not()` method constructs a new\n * Cheerio object from a subset of the matching elements. The supplied selector\n * is tested against each element; the elements that don't match the selector\n * will be included in the result.\n *\n * The `.not()` method can take a function as its argument in the same way that\n * `.filter()` does. Elements for which the function returns `true` are excluded\n * from the filtered set; all other elements are included.\n *\n * @category Traversing\n * @example <caption>Selector</caption>\n *\n * ```js\n * $('li').not('.apple').length;\n * //=> 2\n * ```\n *\n * @example <caption>Function</caption>\n *\n * ```js\n * $('li').not(function (i, el) {\n *   // this === el\n *   return $(this).attr('class') === 'orange';\n * }).length; //=> 2\n * ```\n *\n * @param match - Value to look for, following the rules above.\n * @param container - Optional node to filter instead.\n * @returns The filtered collection.\n * @see {@link https://api.jquery.com/not/}\n */\n\nfunction not(match) {\n  var nodes = this.toArray();\n\n  if (typeof match === 'string') {\n    var matches_1 = new Set(select.filter(match, nodes, this.options));\n    nodes = nodes.filter(function (el) {\n      return !matches_1.has(el);\n    });\n  } else {\n    var filterFn_1 = getFilterFn(match);\n    nodes = nodes.filter(function (el, i) {\n      return !filterFn_1(el, i);\n    });\n  }\n\n  return this._make(nodes);\n}\n\nexports.not = not;\n/**\n * Filters the set of matched elements to only those which have the given DOM\n * element as a descendant or which have a descendant that matches the given\n * selector. Equivalent to `.filter(':has(selector)')`.\n *\n * @category Traversing\n * @example <caption>Selector</caption>\n *\n * ```js\n * $('ul').has('.pear').attr('id');\n * //=> fruits\n * ```\n *\n * @example <caption>Element</caption>\n *\n * ```js\n * $('ul').has($('.pear')[0]).attr('id');\n * //=> fruits\n * ```\n *\n * @param selectorOrHaystack - Element to look for.\n * @returns The filtered collection.\n * @see {@link https://api.jquery.com/has/}\n */\n\nfunction has(selectorOrHaystack) {\n  var _this = this;\n\n  return this.filter(typeof selectorOrHaystack === 'string' ? // Using the `:has` selector here short-circuits searches.\n  \":has(\".concat(selectorOrHaystack, \")\") : function (_, el) {\n    return _this._make(el).find(selectorOrHaystack).length > 0;\n  });\n}\n\nexports.has = has;\n/**\n * Will select the first element of a cheerio object.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('#fruits').children().first().text();\n * //=> Apple\n * ```\n *\n * @returns The first element.\n * @see {@link https://api.jquery.com/first/}\n */\n\nfunction first() {\n  return this.length > 1 ? this._make(this[0]) : this;\n}\n\nexports.first = first;\n/**\n * Will select the last element of a cheerio object.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('#fruits').children().last().text();\n * //=> Pear\n * ```\n *\n * @returns The last element.\n * @see {@link https://api.jquery.com/last/}\n */\n\nfunction last() {\n  return this.length > 0 ? this._make(this[this.length - 1]) : this;\n}\n\nexports.last = last;\n/**\n * Reduce the set of matched elements to the one at the specified index. Use\n * `.eq(-i)` to count backwards from the last selected element.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('li').eq(0).text();\n * //=> Apple\n *\n * $('li').eq(-1).text();\n * //=> Pear\n * ```\n *\n * @param i - Index of the element to select.\n * @returns The element at the `i`th position.\n * @see {@link https://api.jquery.com/eq/}\n */\n\nfunction eq(i) {\n  var _a;\n\n  i = +i; // Use the first identity optimization if possible\n\n  if (i === 0 && this.length <= 1) return this;\n  if (i < 0) i = this.length + i;\n  return this._make((_a = this[i]) !== null && _a !== void 0 ? _a : []);\n}\n\nexports.eq = eq;\n\nfunction get(i) {\n  if (i == null) {\n    return this.toArray();\n  }\n\n  return this[i < 0 ? this.length + i : i];\n}\n\nexports.get = get;\n/**\n * Retrieve all the DOM elements contained in the jQuery set as an array.\n *\n * @example\n *\n * ```js\n * $('li').toArray();\n * //=> [ {...}, {...}, {...} ]\n * ```\n *\n * @returns The contained items.\n */\n\nfunction toArray() {\n  return Array.prototype.slice.call(this);\n}\n\nexports.toArray = toArray;\n/**\n * Search for a given element from among the matched elements.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.pear').index();\n * //=> 2 $('.orange').index('li');\n * //=> 1\n * $('.apple').index($('#fruit, li'));\n * //=> 1\n * ```\n *\n * @param selectorOrNeedle - Element to look for.\n * @returns The index of the element.\n * @see {@link https://api.jquery.com/index/}\n */\n\nfunction index(selectorOrNeedle) {\n  var $haystack;\n  var needle;\n\n  if (selectorOrNeedle == null) {\n    $haystack = this.parent().children();\n    needle = this[0];\n  } else if (typeof selectorOrNeedle === 'string') {\n    $haystack = this._make(selectorOrNeedle);\n    needle = this[0];\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    $haystack = this;\n    needle = (0, utils_js_1.isCheerio)(selectorOrNeedle) ? selectorOrNeedle[0] : selectorOrNeedle;\n  }\n\n  return Array.prototype.indexOf.call($haystack, needle);\n}\n\nexports.index = index;\n/**\n * Gets the elements matching the specified range (0-based position).\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('li').slice(1).eq(0).text();\n * //=> 'Orange'\n *\n * $('li').slice(1, 2).length;\n * //=> 1\n * ```\n *\n * @param start - A position at which the elements begin to be selected. If\n *   negative, it indicates an offset from the end of the set.\n * @param end - A position at which the elements stop being selected. If\n *   negative, it indicates an offset from the end of the set. If omitted, the\n *   range continues until the end of the set.\n * @returns The elements matching the specified range.\n * @see {@link https://api.jquery.com/slice/}\n */\n\nfunction slice(start, end) {\n  return this._make(Array.prototype.slice.call(this, start, end));\n}\n\nexports.slice = slice;\n/**\n * End the most recent filtering operation in the current chain and return the\n * set of matched elements to its previous state.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('li').eq(0).end().length;\n * //=> 3\n * ```\n *\n * @returns The previous state of the set of matched elements.\n * @see {@link https://api.jquery.com/end/}\n */\n\nfunction end() {\n  var _a;\n\n  return (_a = this.prevObject) !== null && _a !== void 0 ? _a : this._make([]);\n}\n\nexports.end = end;\n/**\n * Add elements to the set of matched elements.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.apple').add('.orange').length;\n * //=> 2\n * ```\n *\n * @param other - Elements to add.\n * @param context - Optionally the context of the new selection.\n * @returns The combined set.\n * @see {@link https://api.jquery.com/add/}\n */\n\nfunction add(other, context) {\n  var selection = this._make(other, context);\n\n  var contents = (0, domutils_1.uniqueSort)(__spreadArray(__spreadArray([], this.get(), true), selection.get(), true));\n  return this._make(contents);\n}\n\nexports.add = add;\n/**\n * Add the previous set of elements on the stack to the current set, optionally\n * filtered by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('li').eq(0).addBack('.orange').length;\n * //=> 2\n * ```\n *\n * @param selector - Selector for the elements to add.\n * @returns The combined set.\n * @see {@link https://api.jquery.com/addBack/}\n */\n\nfunction addBack(selector) {\n  return this.prevObject ? this.add(selector ? this.prevObject.filter(selector) : this.prevObject) : this;\n}\n\nexports.addBack = addBack;","map":{"version":3,"mappings":"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","names":["reSiblingSelector","find","selectorOrHaystack","_make","context","toArray","haystack","filter","elem","some","node","elems","test","children","options","root","_root","_a","xmlMode","lowerCaseTags","lowerCaseAttributeNames","pseudos","quirksMode","select","exports","_getMatcher","matchMap","fn","postFns","selector","matched","filterArray","length","reduce","_matcher","ret","i","value","push","Array","concat","apply","_singleMatcher","_matchUntil","nextElem","matches","innerMatcher","next_1","__spreadArray","filterSelector","is","_this","getFilterFn","call","_removeDuplicates","from","Set","parent","domutils_1","reverse","closest","set","selectOpts","selectFn","includes","next","el","prev","utils_js_1","contents","newElems","each","len","map","val","match","prototype","nodes","not","matches_1","has","filterFn_1","_","first","last","eq","get","slice","index","selectorOrNeedle","$haystack","needle","indexOf","start","end","prevObject","add","other","selection","addBack"],"sources":["api/traversing.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.aliases = exports.pseudos = exports.filters = exports.is = exports.selectOne = exports.selectAll = exports.prepareContext = exports._compileToken = exports._compileUnsafe = exports.compile = void 0;\n\nvar DomUtils = __importStar(require(\"domutils\"));\n\nvar boolbase_1 = __importDefault(require(\"boolbase\"));\n\nvar compile_js_1 = require(\"./compile.js\");\n\nvar subselects_js_1 = require(\"./pseudo-selectors/subselects.js\");\n\nvar defaultEquals = function (a, b) {\n  return a === b;\n};\n\nvar defaultOptions = {\n  adapter: DomUtils,\n  equals: defaultEquals\n};\n\nfunction convertOptionFormats(options) {\n  var _a, _b, _c, _d;\n  /*\n   * We force one format of options to the other one.\n   */\n  // @ts-expect-error Default options may have incompatible `Node` / `ElementNode`.\n\n\n  var opts = options !== null && options !== void 0 ? options : defaultOptions; // @ts-expect-error Same as above.\n\n  (_a = opts.adapter) !== null && _a !== void 0 ? _a : opts.adapter = DomUtils; // @ts-expect-error `equals` does not exist on `Options`\n\n  (_b = opts.equals) !== null && _b !== void 0 ? _b : opts.equals = (_d = (_c = opts.adapter) === null || _c === void 0 ? void 0 : _c.equals) !== null && _d !== void 0 ? _d : defaultEquals;\n  return opts;\n}\n\nfunction wrapCompile(func) {\n  return function addAdapter(selector, options, context) {\n    var opts = convertOptionFormats(options);\n    return func(selector, opts, context);\n  };\n}\n/**\n * Compiles the query, returns a function.\n */\n\n\nexports.compile = wrapCompile(compile_js_1.compile);\nexports._compileUnsafe = wrapCompile(compile_js_1.compileUnsafe);\nexports._compileToken = wrapCompile(compile_js_1.compileToken);\n\nfunction getSelectorFunc(searchFunc) {\n  return function select(query, elements, options) {\n    var opts = convertOptionFormats(options);\n\n    if (typeof query !== \"function\") {\n      query = (0, compile_js_1.compileUnsafe)(query, opts, elements);\n    }\n\n    var filteredElements = prepareContext(elements, opts.adapter, query.shouldTestNextSiblings);\n    return searchFunc(query, filteredElements, opts);\n  };\n}\n\nfunction prepareContext(elems, adapter, shouldTestNextSiblings) {\n  if (shouldTestNextSiblings === void 0) {\n    shouldTestNextSiblings = false;\n  }\n  /*\n   * Add siblings if the query requires them.\n   * See https://github.com/fb55/css-select/pull/43#issuecomment-225414692\n   */\n\n\n  if (shouldTestNextSiblings) {\n    elems = appendNextSiblings(elems, adapter);\n  }\n\n  return Array.isArray(elems) ? adapter.removeSubsets(elems) : adapter.getChildren(elems);\n}\n\nexports.prepareContext = prepareContext;\n\nfunction appendNextSiblings(elem, adapter) {\n  // Order matters because jQuery seems to check the children before the siblings\n  var elems = Array.isArray(elem) ? elem.slice(0) : [elem];\n  var elemsLength = elems.length;\n\n  for (var i = 0; i < elemsLength; i++) {\n    var nextSiblings = (0, subselects_js_1.getNextSiblings)(elems[i], adapter);\n    elems.push.apply(elems, nextSiblings);\n  }\n\n  return elems;\n}\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns All matching elements.\n *\n */\n\n\nexports.selectAll = getSelectorFunc(function (query, elems, options) {\n  return query === boolbase_1.default.falseFunc || !elems || elems.length === 0 ? [] : options.adapter.findAll(query, elems);\n});\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns the first match, or null if there was no match.\n */\n\nexports.selectOne = getSelectorFunc(function (query, elems, options) {\n  return query === boolbase_1.default.falseFunc || !elems || elems.length === 0 ? null : options.adapter.findOne(query, elems);\n});\n/**\n * Tests whether or not an element is matched by query.\n *\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elem The element to test if it matches the query.\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns\n */\n\nfunction is(elem, query, options) {\n  var opts = convertOptionFormats(options);\n  return (typeof query === \"function\" ? query : (0, compile_js_1.compile)(query, opts))(elem);\n}\n\nexports.is = is;\n/**\n * Alias for selectAll(query, elems, options).\n * @see [compile] for supported selector queries.\n */\n\nexports.default = exports.selectAll; // Export filters, pseudos and aliases to allow users to supply their own.\n\n/** @deprecated Use the `pseudos` option instead. */\n\nvar index_js_1 = require(\"./pseudo-selectors/index.js\");\n\nObject.defineProperty(exports, \"filters\", {\n  enumerable: true,\n  get: function () {\n    return index_js_1.filters;\n  }\n});\nObject.defineProperty(exports, \"pseudos\", {\n  enumerable: true,\n  get: function () {\n    return index_js_1.pseudos;\n  }\n});\nObject.defineProperty(exports, \"aliases\", {\n  enumerable: true,\n  get: function () {\n    return index_js_1.aliases;\n  }\n});","map":{"version":3,"mappings":"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","names":["defaultEquals","a","b","defaultOptions","adapter","DomUtils","equals","convertOptionFormats","options","opts","_a","_b","_c","_d","wrapCompile","func","addAdapter","selector","context","exports","compile_js_1","getSelectorFunc","searchFunc","select","query","elements","filteredElements","prepareContext","shouldTestNextSiblings","elems","appendNextSiblings","Array","isArray","removeSubsets","getChildren","elem","slice","elemsLength","length","i","nextSiblings","push","apply","boolbase_1","falseFunc","findAll","findOne","is","Object","enumerable","get"],"sources":["index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n/**\n * Methods for getting and modifying attributes.\n *\n * @module cheerio/attributes\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toggleClass = exports.removeClass = exports.addClass = exports.hasClass = exports.removeAttr = exports.val = exports.data = exports.prop = exports.attr = void 0;\n\nvar static_js_1 = require(\"../static.js\");\n\nvar utils_js_1 = require(\"../utils.js\");\n\nvar domutils_1 = require(\"domutils\");\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar rspace = /\\s+/;\nvar dataAttrPrefix = 'data-';\n/*\n * Lookup table for coercing string data-* attributes to their corresponding\n * JavaScript primitives\n */\n\nvar primitives = {\n  null: null,\n  true: true,\n  false: false\n}; // Attributes that are booleans\n\nvar rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i; // Matches strings that look like JSON objects or arrays\n\nvar rbrace = /^{[^]*}$|^\\[[^]*]$/;\n\nfunction getAttr(elem, name, xmlMode) {\n  var _a;\n\n  if (!elem || !(0, utils_js_1.isTag)(elem)) return undefined;\n  (_a = elem.attribs) !== null && _a !== void 0 ? _a : elem.attribs = {}; // Return the entire attribs object if no attribute specified\n\n  if (!name) {\n    return elem.attribs;\n  }\n\n  if (hasOwn.call(elem.attribs, name)) {\n    // Get the (decoded) attribute\n    return !xmlMode && rboolean.test(name) ? name : elem.attribs[name];\n  } // Mimic the DOM and return text content as value for `option's`\n\n\n  if (elem.name === 'option' && name === 'value') {\n    return (0, static_js_1.text)(elem.children);\n  } // Mimic DOM with default value for radios/checkboxes\n\n\n  if (elem.name === 'input' && (elem.attribs['type'] === 'radio' || elem.attribs['type'] === 'checkbox') && name === 'value') {\n    return 'on';\n  }\n\n  return undefined;\n}\n/**\n * Sets the value of an attribute. The attribute will be deleted if the value is `null`.\n *\n * @private\n * @param el - The element to set the attribute on.\n * @param name - The attribute's name.\n * @param value - The attribute's value.\n */\n\n\nfunction setAttr(el, name, value) {\n  if (value === null) {\n    removeAttribute(el, name);\n  } else {\n    el.attribs[name] = \"\".concat(value);\n  }\n}\n\nfunction attr(name, value) {\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    if (typeof value === 'function') {\n      if (typeof name !== 'string') {\n        {\n          throw new Error('Bad combination of arguments.');\n        }\n      }\n\n      return (0, utils_js_1.domEach)(this, function (el, i) {\n        if ((0, utils_js_1.isTag)(el)) setAttr(el, name, value.call(el, i, el.attribs[name]));\n      });\n    }\n\n    return (0, utils_js_1.domEach)(this, function (el) {\n      if (!(0, utils_js_1.isTag)(el)) return;\n\n      if (typeof name === 'object') {\n        Object.keys(name).forEach(function (objName) {\n          var objValue = name[objName];\n          setAttr(el, objName, objValue);\n        });\n      } else {\n        setAttr(el, name, value);\n      }\n    });\n  }\n\n  return arguments.length > 1 ? this : getAttr(this[0], name, this.options.xmlMode);\n}\n\nexports.attr = attr;\n/**\n * Gets a node's prop.\n *\n * @private\n * @category Attributes\n * @param el - Element to get the prop of.\n * @param name - Name of the prop.\n * @returns The prop's value.\n */\n\nfunction getProp(el, name, xmlMode) {\n  return name in el ? // @ts-expect-error TS doesn't like us accessing the value directly here.\n  el[name] : !xmlMode && rboolean.test(name) ? getAttr(el, name, false) !== undefined : getAttr(el, name, xmlMode);\n}\n/**\n * Sets the value of a prop.\n *\n * @private\n * @param el - The element to set the prop on.\n * @param name - The prop's name.\n * @param value - The prop's value.\n */\n\n\nfunction setProp(el, name, value, xmlMode) {\n  if (name in el) {\n    // @ts-expect-error Overriding value\n    el[name] = value;\n  } else {\n    setAttr(el, name, !xmlMode && rboolean.test(name) ? value ? '' : null : \"\".concat(value));\n  }\n}\n\nfunction prop(name, value) {\n  var _this = this;\n\n  var _a;\n\n  if (typeof name === 'string' && value === undefined) {\n    var el = this[0];\n    if (!el || !(0, utils_js_1.isTag)(el)) return undefined;\n\n    switch (name) {\n      case 'style':\n        {\n          var property_1 = this.css();\n          var keys = Object.keys(property_1);\n          keys.forEach(function (p, i) {\n            property_1[i] = p;\n          });\n          property_1.length = keys.length;\n          return property_1;\n        }\n\n      case 'tagName':\n      case 'nodeName':\n        {\n          return el.name.toUpperCase();\n        }\n\n      case 'href':\n      case 'src':\n        {\n          var prop_1 = (_a = el.attribs) === null || _a === void 0 ? void 0 : _a[name];\n          /* eslint-disable node/no-unsupported-features/node-builtins */\n\n          if (typeof URL !== 'undefined' && (name === 'href' && (el.tagName === 'a' || el.name === 'link') || name === 'src' && (el.tagName === 'img' || el.tagName === 'iframe' || el.tagName === 'audio' || el.tagName === 'video' || el.tagName === 'source')) && prop_1 !== undefined && this.options.baseURI) {\n            return new URL(prop_1, this.options.baseURI).href;\n          }\n          /* eslint-enable node/no-unsupported-features/node-builtins */\n\n\n          return prop_1;\n        }\n\n      case 'innerText':\n        {\n          return (0, domutils_1.innerText)(el);\n        }\n\n      case 'textContent':\n        {\n          return (0, domutils_1.textContent)(el);\n        }\n\n      case 'outerHTML':\n        return this.clone().wrap('<container />').parent().html();\n\n      case 'innerHTML':\n        return this.html();\n\n      default:\n        return getProp(el, name, this.options.xmlMode);\n    }\n  }\n\n  if (typeof name === 'object' || value !== undefined) {\n    if (typeof value === 'function') {\n      if (typeof name === 'object') {\n        throw new Error('Bad combination of arguments.');\n      }\n\n      return (0, utils_js_1.domEach)(this, function (el, i) {\n        if ((0, utils_js_1.isTag)(el)) {\n          setProp(el, name, value.call(el, i, getProp(el, name, _this.options.xmlMode)), _this.options.xmlMode);\n        }\n      });\n    }\n\n    return (0, utils_js_1.domEach)(this, function (el) {\n      if (!(0, utils_js_1.isTag)(el)) return;\n\n      if (typeof name === 'object') {\n        Object.keys(name).forEach(function (key) {\n          var val = name[key];\n          setProp(el, key, val, _this.options.xmlMode);\n        });\n      } else {\n        setProp(el, name, value, _this.options.xmlMode);\n      }\n    });\n  }\n\n  return undefined;\n}\n\nexports.prop = prop;\n/**\n * Sets the value of a data attribute.\n *\n * @private\n * @param el - The element to set the data attribute on.\n * @param name - The data attribute's name.\n * @param value - The data attribute's value.\n */\n\nfunction setData(el, name, value) {\n  var _a;\n\n  var elem = el;\n  (_a = elem.data) !== null && _a !== void 0 ? _a : elem.data = {};\n  if (typeof name === 'object') Object.assign(elem.data, name);else if (typeof name === 'string' && value !== undefined) {\n    elem.data[name] = value;\n  }\n}\n/**\n * Read the specified attribute from the equivalent HTML5 `data-*` attribute,\n * and (if present) cache the value in the node's internal data store. If no\n * attribute name is specified, read _all_ HTML5 `data-*` attributes in this manner.\n *\n * @private\n * @category Attributes\n * @param el - Element to get the data attribute of.\n * @param name - Name of the data attribute.\n * @returns The data attribute's value, or a map with all of the data attributes.\n */\n\n\nfunction readData(el, name) {\n  var domNames;\n  var jsNames;\n  var value;\n\n  if (name == null) {\n    domNames = Object.keys(el.attribs).filter(function (attrName) {\n      return attrName.startsWith(dataAttrPrefix);\n    });\n    jsNames = domNames.map(function (domName) {\n      return (0, utils_js_1.camelCase)(domName.slice(dataAttrPrefix.length));\n    });\n  } else {\n    domNames = [dataAttrPrefix + (0, utils_js_1.cssCase)(name)];\n    jsNames = [name];\n  }\n\n  for (var idx = 0; idx < domNames.length; ++idx) {\n    var domName = domNames[idx];\n    var jsName = jsNames[idx];\n\n    if (hasOwn.call(el.attribs, domName) && !hasOwn.call(el.data, jsName)) {\n      value = el.attribs[domName];\n\n      if (hasOwn.call(primitives, value)) {\n        value = primitives[value];\n      } else if (value === String(Number(value))) {\n        value = Number(value);\n      } else if (rbrace.test(value)) {\n        try {\n          value = JSON.parse(value);\n        } catch (e) {\n          /* Ignore */\n        }\n      }\n\n      el.data[jsName] = value;\n    }\n  }\n\n  return name == null ? el.data : value;\n}\n\nfunction data(name, value) {\n  var _a;\n\n  var elem = this[0];\n  if (!elem || !(0, utils_js_1.isTag)(elem)) return;\n  var dataEl = elem;\n  (_a = dataEl.data) !== null && _a !== void 0 ? _a : dataEl.data = {}; // Return the entire data object if no data specified\n\n  if (!name) {\n    return readData(dataEl);\n  } // Set the value (with attr map support)\n\n\n  if (typeof name === 'object' || value !== undefined) {\n    (0, utils_js_1.domEach)(this, function (el) {\n      if ((0, utils_js_1.isTag)(el)) {\n        if (typeof name === 'object') setData(el, name);else setData(el, name, value);\n      }\n    });\n    return this;\n  }\n\n  if (hasOwn.call(dataEl.data, name)) {\n    return dataEl.data[name];\n  }\n\n  return readData(dataEl, name);\n}\n\nexports.data = data;\n\nfunction val(value) {\n  var querying = arguments.length === 0;\n  var element = this[0];\n  if (!element || !(0, utils_js_1.isTag)(element)) return querying ? undefined : this;\n\n  switch (element.name) {\n    case 'textarea':\n      return this.text(value);\n\n    case 'select':\n      {\n        var option = this.find('option:selected');\n\n        if (!querying) {\n          if (this.attr('multiple') == null && typeof value === 'object') {\n            return this;\n          }\n\n          this.find('option').removeAttr('selected');\n          var values = typeof value !== 'object' ? [value] : value;\n\n          for (var i = 0; i < values.length; i++) {\n            this.find(\"option[value=\\\"\".concat(values[i], \"\\\"]\")).attr('selected', '');\n          }\n\n          return this;\n        }\n\n        return this.attr('multiple') ? option.toArray().map(function (el) {\n          return (0, static_js_1.text)(el.children);\n        }) : option.attr('value');\n      }\n\n    case 'input':\n    case 'option':\n      return querying ? this.attr('value') : this.attr('value', value);\n  }\n\n  return undefined;\n}\n\nexports.val = val;\n/**\n * Remove an attribute.\n *\n * @private\n * @param elem - Node to remove attribute from.\n * @param name - Name of the attribute to remove.\n */\n\nfunction removeAttribute(elem, name) {\n  if (!elem.attribs || !hasOwn.call(elem.attribs, name)) return;\n  delete elem.attribs[name];\n}\n/**\n * Splits a space-separated list of names to individual names.\n *\n * @category Attributes\n * @param names - Names to split.\n * @returns - Split names.\n */\n\n\nfunction splitNames(names) {\n  return names ? names.trim().split(rspace) : [];\n}\n/**\n * Method for removing attributes by `name`.\n *\n * @category Attributes\n * @example\n *\n * ```js\n * $('.pear').removeAttr('class').html();\n * //=> <li>Pear</li>\n *\n * $('.apple').attr('id', 'favorite');\n * $('.apple').removeAttr('id class').html();\n * //=> <li>Apple</li>\n * ```\n *\n * @param name - Name of the attribute.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/removeAttr/}\n */\n\n\nfunction removeAttr(name) {\n  var attrNames = splitNames(name);\n\n  var _loop_1 = function (i) {\n    (0, utils_js_1.domEach)(this_1, function (elem) {\n      if ((0, utils_js_1.isTag)(elem)) removeAttribute(elem, attrNames[i]);\n    });\n  };\n\n  var this_1 = this;\n\n  for (var i = 0; i < attrNames.length; i++) {\n    _loop_1(i);\n  }\n\n  return this;\n}\n\nexports.removeAttr = removeAttr;\n/**\n * Check to see if _any_ of the matched elements have the given `className`.\n *\n * @category Attributes\n * @example\n *\n * ```js\n * $('.pear').hasClass('pear');\n * //=> true\n *\n * $('apple').hasClass('fruit');\n * //=> false\n *\n * $('li').hasClass('pear');\n * //=> true\n * ```\n *\n * @param className - Name of the class.\n * @returns Indicates if an element has the given `className`.\n * @see {@link https://api.jquery.com/hasClass/}\n */\n\nfunction hasClass(className) {\n  return this.toArray().some(function (elem) {\n    var clazz = (0, utils_js_1.isTag)(elem) && elem.attribs['class'];\n    var idx = -1;\n\n    if (clazz && className.length) {\n      while ((idx = clazz.indexOf(className, idx + 1)) > -1) {\n        var end = idx + className.length;\n\n        if ((idx === 0 || rspace.test(clazz[idx - 1])) && (end === clazz.length || rspace.test(clazz[end]))) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  });\n}\n\nexports.hasClass = hasClass;\n/**\n * Adds class(es) to all of the matched elements. Also accepts a `function`.\n *\n * @category Attributes\n * @example\n *\n * ```js\n * $('.pear').addClass('fruit').html();\n * //=> <li class=\"pear fruit\">Pear</li>\n *\n * $('.apple').addClass('fruit red').html();\n * //=> <li class=\"apple fruit red\">Apple</li>\n * ```\n *\n * @param value - Name of new class.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/addClass/}\n */\n\nfunction addClass(value) {\n  // Support functions\n  if (typeof value === 'function') {\n    return (0, utils_js_1.domEach)(this, function (el, i) {\n      if ((0, utils_js_1.isTag)(el)) {\n        var className = el.attribs['class'] || '';\n        addClass.call([el], value.call(el, i, className));\n      }\n    });\n  } // Return if no value or not a string or function\n\n\n  if (!value || typeof value !== 'string') return this;\n  var classNames = value.split(rspace);\n  var numElements = this.length;\n\n  for (var i = 0; i < numElements; i++) {\n    var el = this[i]; // If selected element isn't a tag, move on\n\n    if (!(0, utils_js_1.isTag)(el)) continue; // If we don't already have classes â€” always set xmlMode to false here, as it doesn't matter for classes\n\n    var className = getAttr(el, 'class', false);\n\n    if (!className) {\n      setAttr(el, 'class', classNames.join(' ').trim());\n    } else {\n      var setClass = \" \".concat(className, \" \"); // Check if class already exists\n\n      for (var j = 0; j < classNames.length; j++) {\n        var appendClass = \"\".concat(classNames[j], \" \");\n        if (!setClass.includes(\" \".concat(appendClass))) setClass += appendClass;\n      }\n\n      setAttr(el, 'class', setClass.trim());\n    }\n  }\n\n  return this;\n}\n\nexports.addClass = addClass;\n/**\n * Removes one or more space-separated classes from the selected elements. If no\n * `className` is defined, all classes will be removed. Also accepts a `function`.\n *\n * @category Attributes\n * @example\n *\n * ```js\n * $('.pear').removeClass('pear').html();\n * //=> <li class=\"\">Pear</li>\n *\n * $('.apple').addClass('red').removeClass().html();\n * //=> <li class=\"\">Apple</li>\n * ```\n *\n * @param name - Name of the class. If not specified, removes all elements.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/removeClass/}\n */\n\nfunction removeClass(name) {\n  // Handle if value is a function\n  if (typeof name === 'function') {\n    return (0, utils_js_1.domEach)(this, function (el, i) {\n      if ((0, utils_js_1.isTag)(el)) {\n        removeClass.call([el], name.call(el, i, el.attribs['class'] || ''));\n      }\n    });\n  }\n\n  var classes = splitNames(name);\n  var numClasses = classes.length;\n  var removeAll = arguments.length === 0;\n  return (0, utils_js_1.domEach)(this, function (el) {\n    if (!(0, utils_js_1.isTag)(el)) return;\n\n    if (removeAll) {\n      // Short circuit the remove all case as this is the nice one\n      el.attribs['class'] = '';\n    } else {\n      var elClasses = splitNames(el.attribs['class']);\n      var changed = false;\n\n      for (var j = 0; j < numClasses; j++) {\n        var index = elClasses.indexOf(classes[j]);\n\n        if (index >= 0) {\n          elClasses.splice(index, 1);\n          changed = true;\n          /*\n           * We have to do another pass to ensure that there are not duplicate\n           * classes listed\n           */\n\n          j--;\n        }\n      }\n\n      if (changed) {\n        el.attribs['class'] = elClasses.join(' ');\n      }\n    }\n  });\n}\n\nexports.removeClass = removeClass;\n/**\n * Add or remove class(es) from the matched elements, depending on either the\n * class's presence or the value of the switch argument. Also accepts a `function`.\n *\n * @category Attributes\n * @example\n *\n * ```js\n * $('.apple.green').toggleClass('fruit green red').html();\n * //=> <li class=\"apple fruit red\">Apple</li>\n *\n * $('.apple.green').toggleClass('fruit green red', true).html();\n * //=> <li class=\"apple green fruit red\">Apple</li>\n * ```\n *\n * @param value - Name of the class. Can also be a function.\n * @param stateVal - If specified the state of the class.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/toggleClass/}\n */\n\nfunction toggleClass(value, stateVal) {\n  // Support functions\n  if (typeof value === 'function') {\n    return (0, utils_js_1.domEach)(this, function (el, i) {\n      if ((0, utils_js_1.isTag)(el)) {\n        toggleClass.call([el], value.call(el, i, el.attribs['class'] || '', stateVal), stateVal);\n      }\n    });\n  } // Return if no value or not a string or function\n\n\n  if (!value || typeof value !== 'string') return this;\n  var classNames = value.split(rspace);\n  var numClasses = classNames.length;\n  var state = typeof stateVal === 'boolean' ? stateVal ? 1 : -1 : 0;\n  var numElements = this.length;\n\n  for (var i = 0; i < numElements; i++) {\n    var el = this[i]; // If selected element isn't a tag, move on\n\n    if (!(0, utils_js_1.isTag)(el)) continue;\n    var elementClasses = splitNames(el.attribs['class']); // Check if class already exists\n\n    for (var j = 0; j < numClasses; j++) {\n      // Check if the class name is currently defined\n      var index = elementClasses.indexOf(classNames[j]); // Add if stateValue === true or we are toggling and there is no value\n\n      if (state >= 0 && index < 0) {\n        elementClasses.push(classNames[j]);\n      } else if (state <= 0 && index >= 0) {\n        // Otherwise remove but only if the item exists\n        elementClasses.splice(index, 1);\n      }\n    }\n\n    el.attribs['class'] = elementClasses.join(' ');\n  }\n\n  return this;\n}\n\nexports.toggleClass = toggleClass;","map":{"version":3,"mappings":"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","names":["hasOwn","Object","prototype","hasOwnProperty","rspace","dataAttrPrefix","primitives","null","true","false","rboolean","rbrace","getAttr","elem","name","xmlMode","undefined","attribs","_a","call","test","children","setAttr","el","value","removeAttribute","attr","Error","i","keys","forEach","objName","objValue","arguments","length","options","exports","getProp","setProp","prop","property_1","css","p","toUpperCase","prop_1","URL","tagName","baseURI","href","clone","wrap","parent","html","_this","key","val","setData","data","assign","readData","domNames","jsNames","filter","attrName","startsWith","map","domName","slice","idx","jsName","String","Number","JSON","parse","e","dataEl","querying","element","text","option","find","removeAttr","values","toArray","splitNames","names","trim","split","attrNames","this_1","hasClass","className","some","clazz","indexOf","end","addClass","classNames","numElements","join","setClass","j","appendClass","includes","removeClass","classes","numClasses","removeAll","elClasses","changed","index","splice","toggleClass","stateVal","state","elementClasses","push"],"sources":["api/attributes.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}
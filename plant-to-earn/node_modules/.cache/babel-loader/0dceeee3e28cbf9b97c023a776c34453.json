{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.prepend = exports.prependChild = exports.append = exports.appendChild = exports.replaceElement = exports.removeElement = void 0;\n/**\n * Remove an element from the dom\n *\n * @category Manipulation\n * @param elem The element to be removed\n */\n\nfunction removeElement(elem) {\n  if (elem.prev) elem.prev.next = elem.next;\n  if (elem.next) elem.next.prev = elem.prev;\n\n  if (elem.parent) {\n    var childs = elem.parent.children;\n    childs.splice(childs.lastIndexOf(elem), 1);\n  }\n}\n\nexports.removeElement = removeElement;\n/**\n * Replace an element in the dom\n *\n * @category Manipulation\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\n\nfunction replaceElement(elem, replacement) {\n  var prev = replacement.prev = elem.prev;\n\n  if (prev) {\n    prev.next = replacement;\n  }\n\n  var next = replacement.next = elem.next;\n\n  if (next) {\n    next.prev = replacement;\n  }\n\n  var parent = replacement.parent = elem.parent;\n\n  if (parent) {\n    var childs = parent.children;\n    childs[childs.lastIndexOf(elem)] = replacement;\n    elem.parent = null;\n  }\n}\n\nexports.replaceElement = replaceElement;\n/**\n * Append a child to an element.\n *\n * @category Manipulation\n * @param elem The element to append to.\n * @param child The element to be added as a child.\n */\n\nfunction appendChild(elem, child) {\n  removeElement(child);\n  child.next = null;\n  child.parent = elem;\n\n  if (elem.children.push(child) > 1) {\n    var sibling = elem.children[elem.children.length - 2];\n    sibling.next = child;\n    child.prev = sibling;\n  } else {\n    child.prev = null;\n  }\n}\n\nexports.appendChild = appendChild;\n/**\n * Append an element after another.\n *\n * @category Manipulation\n * @param elem The element to append after.\n * @param next The element be added.\n */\n\nfunction append(elem, next) {\n  removeElement(next);\n  var parent = elem.parent;\n  var currNext = elem.next;\n  next.next = currNext;\n  next.prev = elem;\n  elem.next = next;\n  next.parent = parent;\n\n  if (currNext) {\n    currNext.prev = next;\n\n    if (parent) {\n      var childs = parent.children;\n      childs.splice(childs.lastIndexOf(currNext), 0, next);\n    }\n  } else if (parent) {\n    parent.children.push(next);\n  }\n}\n\nexports.append = append;\n/**\n * Prepend a child to an element.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param child The element to be added as a child.\n */\n\nfunction prependChild(elem, child) {\n  removeElement(child);\n  child.parent = elem;\n  child.prev = null;\n\n  if (elem.children.unshift(child) !== 1) {\n    var sibling = elem.children[1];\n    sibling.prev = child;\n    child.next = sibling;\n  } else {\n    child.next = null;\n  }\n}\n\nexports.prependChild = prependChild;\n/**\n * Prepend an element before another.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param prev The element be added.\n */\n\nfunction prepend(elem, prev) {\n  removeElement(prev);\n  var parent = elem.parent;\n\n  if (parent) {\n    var childs = parent.children;\n    childs.splice(childs.indexOf(elem), 0, prev);\n  }\n\n  if (elem.prev) {\n    elem.prev.next = prev;\n  }\n\n  prev.parent = parent;\n  prev.prev = elem.prev;\n  prev.next = elem;\n  elem.prev = prev;\n}\n\nexports.prepend = prepend;","map":{"version":3,"mappings":"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","names":["removeElement","elem","prev","next","parent","childs","children","splice","lastIndexOf","exports","replaceElement","replacement","appendChild","child","push","sibling","length","append","currNext","prependChild","unshift","prepend","indexOf"],"sources":["manipulation.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SlicedBasedGenerator = void 0;\n\nconst Value_1 = require(\"../../../check/arbitrary/definition/Value\");\n\nclass SlicedBasedGenerator {\n  constructor(arb, mrng, slices, biasFactor) {\n    this.arb = arb;\n    this.mrng = mrng;\n    this.slices = slices;\n    this.biasFactor = biasFactor;\n    this.activeSliceIndex = 0;\n    this.nextIndexInSlice = 0;\n    this.lastIndexInSlice = -1;\n  }\n\n  attemptExact(targetLength) {\n    if (targetLength !== 0 && this.mrng.nextInt(1, this.biasFactor) === 1) {\n      const eligibleIndices = [];\n\n      for (let index = 0; index !== this.slices.length; ++index) {\n        const slice = this.slices[index];\n\n        if (slice.length === targetLength) {\n          eligibleIndices.push(index);\n        }\n      }\n\n      if (eligibleIndices.length === 0) {\n        return;\n      }\n\n      this.activeSliceIndex = eligibleIndices[this.mrng.nextInt(0, eligibleIndices.length - 1)];\n      this.nextIndexInSlice = 0;\n      this.lastIndexInSlice = targetLength - 1;\n    }\n  }\n\n  next() {\n    if (this.nextIndexInSlice <= this.lastIndexInSlice) {\n      return new Value_1.Value(this.slices[this.activeSliceIndex][this.nextIndexInSlice++], undefined);\n    }\n\n    if (this.mrng.nextInt(1, this.biasFactor) !== 1) {\n      return this.arb.generate(this.mrng, this.biasFactor);\n    }\n\n    this.activeSliceIndex = this.mrng.nextInt(0, this.slices.length - 1);\n    const slice = this.slices[this.activeSliceIndex];\n\n    if (this.mrng.nextInt(1, this.biasFactor) !== 1) {\n      this.nextIndexInSlice = 1;\n      this.lastIndexInSlice = slice.length - 1;\n      return new Value_1.Value(slice[0], undefined);\n    }\n\n    const rangeBoundaryA = this.mrng.nextInt(0, slice.length - 1);\n    const rangeBoundaryB = this.mrng.nextInt(0, slice.length - 1);\n    this.nextIndexInSlice = Math.min(rangeBoundaryA, rangeBoundaryB);\n    this.lastIndexInSlice = Math.max(rangeBoundaryA, rangeBoundaryB);\n    return new Value_1.Value(slice[this.nextIndexInSlice++], undefined);\n  }\n\n}\n\nexports.SlicedBasedGenerator = SlicedBasedGenerator;","map":{"version":3,"names":["Object","defineProperty","exports","value","SlicedBasedGenerator","Value_1","require","constructor","arb","mrng","slices","biasFactor","activeSliceIndex","nextIndexInSlice","lastIndexInSlice","attemptExact","targetLength","nextInt","eligibleIndices","index","length","slice","push","next","Value","undefined","generate","rangeBoundaryA","rangeBoundaryB","Math","min","max"],"sources":["/Users/tranminhtrung/Desktop/learn_web3/gamble/node_modules/fast-check/lib/arbitrary/_internals/implementations/SlicedBasedGenerator.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SlicedBasedGenerator = void 0;\nconst Value_1 = require(\"../../../check/arbitrary/definition/Value\");\nclass SlicedBasedGenerator {\n    constructor(arb, mrng, slices, biasFactor) {\n        this.arb = arb;\n        this.mrng = mrng;\n        this.slices = slices;\n        this.biasFactor = biasFactor;\n        this.activeSliceIndex = 0;\n        this.nextIndexInSlice = 0;\n        this.lastIndexInSlice = -1;\n    }\n    attemptExact(targetLength) {\n        if (targetLength !== 0 && this.mrng.nextInt(1, this.biasFactor) === 1) {\n            const eligibleIndices = [];\n            for (let index = 0; index !== this.slices.length; ++index) {\n                const slice = this.slices[index];\n                if (slice.length === targetLength) {\n                    eligibleIndices.push(index);\n                }\n            }\n            if (eligibleIndices.length === 0) {\n                return;\n            }\n            this.activeSliceIndex = eligibleIndices[this.mrng.nextInt(0, eligibleIndices.length - 1)];\n            this.nextIndexInSlice = 0;\n            this.lastIndexInSlice = targetLength - 1;\n        }\n    }\n    next() {\n        if (this.nextIndexInSlice <= this.lastIndexInSlice) {\n            return new Value_1.Value(this.slices[this.activeSliceIndex][this.nextIndexInSlice++], undefined);\n        }\n        if (this.mrng.nextInt(1, this.biasFactor) !== 1) {\n            return this.arb.generate(this.mrng, this.biasFactor);\n        }\n        this.activeSliceIndex = this.mrng.nextInt(0, this.slices.length - 1);\n        const slice = this.slices[this.activeSliceIndex];\n        if (this.mrng.nextInt(1, this.biasFactor) !== 1) {\n            this.nextIndexInSlice = 1;\n            this.lastIndexInSlice = slice.length - 1;\n            return new Value_1.Value(slice[0], undefined);\n        }\n        const rangeBoundaryA = this.mrng.nextInt(0, slice.length - 1);\n        const rangeBoundaryB = this.mrng.nextInt(0, slice.length - 1);\n        this.nextIndexInSlice = Math.min(rangeBoundaryA, rangeBoundaryB);\n        this.lastIndexInSlice = Math.max(rangeBoundaryA, rangeBoundaryB);\n        return new Value_1.Value(slice[this.nextIndexInSlice++], undefined);\n    }\n}\nexports.SlicedBasedGenerator = SlicedBasedGenerator;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildCompareFunctionArbitrary = void 0;\n\nconst TextEscaper_1 = require(\"../helpers/TextEscaper\");\n\nconst symbols_1 = require(\"../../../check/symbols\");\n\nconst hash_1 = require(\"../../../utils/hash\");\n\nconst stringify_1 = require(\"../../../utils/stringify\");\n\nconst integer_1 = require(\"../../integer\");\n\nconst tuple_1 = require(\"../../tuple\");\n\nfunction buildCompareFunctionArbitrary(cmp) {\n  return (0, tuple_1.tuple)((0, integer_1.integer)().noShrink(), (0, integer_1.integer)({\n    min: 1,\n    max: 0xffffffff\n  }).noShrink()).map(_ref => {\n    let [seed, hashEnvSize] = _ref;\n\n    const producer = () => {\n      const recorded = {};\n\n      const f = (a, b) => {\n        const reprA = (0, stringify_1.stringify)(a);\n        const reprB = (0, stringify_1.stringify)(b);\n        const hA = (0, hash_1.hash)(`${seed}${reprA}`) % hashEnvSize;\n        const hB = (0, hash_1.hash)(`${seed}${reprB}`) % hashEnvSize;\n        const val = cmp(hA, hB);\n        recorded[`[${reprA},${reprB}]`] = val;\n        return val;\n      };\n\n      return Object.assign(f, {\n        toString: () => {\n          const seenValues = Object.keys(recorded).sort().map(k => `${k} => ${(0, stringify_1.stringify)(recorded[k])}`).map(line => `/* ${(0, TextEscaper_1.escapeForMultilineComments)(line)} */`);\n          return `function(a, b) {\n  // With hash and stringify coming from fast-check${seenValues.length !== 0 ? `\\n  ${seenValues.join('\\n  ')}` : ''}\n  const cmp = ${cmp};\n  const hA = hash('${seed}' + stringify(a)) % ${hashEnvSize};\n  const hB = hash('${seed}' + stringify(b)) % ${hashEnvSize};\n  return cmp(hA, hB);\n}`;\n        },\n        [symbols_1.cloneMethod]: producer\n      });\n    };\n\n    return producer();\n  });\n}\n\nexports.buildCompareFunctionArbitrary = buildCompareFunctionArbitrary;","map":{"version":3,"names":["Object","defineProperty","exports","value","buildCompareFunctionArbitrary","TextEscaper_1","require","symbols_1","hash_1","stringify_1","integer_1","tuple_1","cmp","tuple","integer","noShrink","min","max","map","seed","hashEnvSize","producer","recorded","f","a","b","reprA","stringify","reprB","hA","hash","hB","val","assign","toString","seenValues","keys","sort","k","line","escapeForMultilineComments","length","join","cloneMethod"],"sources":["/Users/tranminhtrung/Desktop/learn_web3/gamble/node_modules/fast-check/lib/arbitrary/_internals/builders/CompareFunctionArbitraryBuilder.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.buildCompareFunctionArbitrary = void 0;\nconst TextEscaper_1 = require(\"../helpers/TextEscaper\");\nconst symbols_1 = require(\"../../../check/symbols\");\nconst hash_1 = require(\"../../../utils/hash\");\nconst stringify_1 = require(\"../../../utils/stringify\");\nconst integer_1 = require(\"../../integer\");\nconst tuple_1 = require(\"../../tuple\");\nfunction buildCompareFunctionArbitrary(cmp) {\n    return (0, tuple_1.tuple)((0, integer_1.integer)().noShrink(), (0, integer_1.integer)({ min: 1, max: 0xffffffff }).noShrink()).map(([seed, hashEnvSize]) => {\n        const producer = () => {\n            const recorded = {};\n            const f = (a, b) => {\n                const reprA = (0, stringify_1.stringify)(a);\n                const reprB = (0, stringify_1.stringify)(b);\n                const hA = (0, hash_1.hash)(`${seed}${reprA}`) % hashEnvSize;\n                const hB = (0, hash_1.hash)(`${seed}${reprB}`) % hashEnvSize;\n                const val = cmp(hA, hB);\n                recorded[`[${reprA},${reprB}]`] = val;\n                return val;\n            };\n            return Object.assign(f, {\n                toString: () => {\n                    const seenValues = Object.keys(recorded)\n                        .sort()\n                        .map((k) => `${k} => ${(0, stringify_1.stringify)(recorded[k])}`)\n                        .map((line) => `/* ${(0, TextEscaper_1.escapeForMultilineComments)(line)} */`);\n                    return `function(a, b) {\n  // With hash and stringify coming from fast-check${seenValues.length !== 0 ? `\\n  ${seenValues.join('\\n  ')}` : ''}\n  const cmp = ${cmp};\n  const hA = hash('${seed}' + stringify(a)) % ${hashEnvSize};\n  const hB = hash('${seed}' + stringify(b)) % ${hashEnvSize};\n  return cmp(hA, hB);\n}`;\n                },\n                [symbols_1.cloneMethod]: producer,\n            });\n        };\n        return producer();\n    });\n}\nexports.buildCompareFunctionArbitrary = buildCompareFunctionArbitrary;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,6BAAR,GAAwC,KAAK,CAA7C;;AACA,MAAMC,aAAa,GAAGC,OAAO,CAAC,wBAAD,CAA7B;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,wBAAD,CAAzB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,qBAAD,CAAtB;;AACA,MAAMG,WAAW,GAAGH,OAAO,CAAC,0BAAD,CAA3B;;AACA,MAAMI,SAAS,GAAGJ,OAAO,CAAC,eAAD,CAAzB;;AACA,MAAMK,OAAO,GAAGL,OAAO,CAAC,aAAD,CAAvB;;AACA,SAASF,6BAAT,CAAuCQ,GAAvC,EAA4C;EACxC,OAAO,CAAC,GAAGD,OAAO,CAACE,KAAZ,EAAmB,CAAC,GAAGH,SAAS,CAACI,OAAd,IAAyBC,QAAzB,EAAnB,EAAwD,CAAC,GAAGL,SAAS,CAACI,OAAd,EAAuB;IAAEE,GAAG,EAAE,CAAP;IAAUC,GAAG,EAAE;EAAf,CAAvB,EAAoDF,QAApD,EAAxD,EAAwHG,GAAxH,CAA4H,QAAyB;IAAA,IAAxB,CAACC,IAAD,EAAOC,WAAP,CAAwB;;IACxJ,MAAMC,QAAQ,GAAG,MAAM;MACnB,MAAMC,QAAQ,GAAG,EAAjB;;MACA,MAAMC,CAAC,GAAG,CAACC,CAAD,EAAIC,CAAJ,KAAU;QAChB,MAAMC,KAAK,GAAG,CAAC,GAAGjB,WAAW,CAACkB,SAAhB,EAA2BH,CAA3B,CAAd;QACA,MAAMI,KAAK,GAAG,CAAC,GAAGnB,WAAW,CAACkB,SAAhB,EAA2BF,CAA3B,CAAd;QACA,MAAMI,EAAE,GAAG,CAAC,GAAGrB,MAAM,CAACsB,IAAX,EAAkB,GAAEX,IAAK,GAAEO,KAAM,EAAjC,IAAsCN,WAAjD;QACA,MAAMW,EAAE,GAAG,CAAC,GAAGvB,MAAM,CAACsB,IAAX,EAAkB,GAAEX,IAAK,GAAES,KAAM,EAAjC,IAAsCR,WAAjD;QACA,MAAMY,GAAG,GAAGpB,GAAG,CAACiB,EAAD,EAAKE,EAAL,CAAf;QACAT,QAAQ,CAAE,IAAGI,KAAM,IAAGE,KAAM,GAApB,CAAR,GAAkCI,GAAlC;QACA,OAAOA,GAAP;MACH,CARD;;MASA,OAAOhC,MAAM,CAACiC,MAAP,CAAcV,CAAd,EAAiB;QACpBW,QAAQ,EAAE,MAAM;UACZ,MAAMC,UAAU,GAAGnC,MAAM,CAACoC,IAAP,CAAYd,QAAZ,EACde,IADc,GAEdnB,GAFc,CAEToB,CAAD,IAAQ,GAAEA,CAAE,OAAM,CAAC,GAAG7B,WAAW,CAACkB,SAAhB,EAA2BL,QAAQ,CAACgB,CAAD,CAAnC,CAAwC,EAFhD,EAGdpB,GAHc,CAGTqB,IAAD,IAAW,MAAK,CAAC,GAAGlC,aAAa,CAACmC,0BAAlB,EAA8CD,IAA9C,CAAoD,KAH1D,CAAnB;UAIA,OAAQ;AAC5B,qDAAqDJ,UAAU,CAACM,MAAX,KAAsB,CAAtB,GAA2B,OAAMN,UAAU,CAACO,IAAX,CAAgB,MAAhB,CAAwB,EAAzD,GAA6D,EAAG;AACrH,gBAAgB9B,GAAI;AACpB,qBAAqBO,IAAK,uBAAsBC,WAAY;AAC5D,qBAAqBD,IAAK,uBAAsBC,WAAY;AAC5D;AACA,EANoB;QAOH,CAbmB;QAcpB,CAACb,SAAS,CAACoC,WAAX,GAAyBtB;MAdL,CAAjB,CAAP;IAgBH,CA3BD;;IA4BA,OAAOA,QAAQ,EAAf;EACH,CA9BM,CAAP;AA+BH;;AACDnB,OAAO,CAACE,6BAAR,GAAwCA,6BAAxC"},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.css = void 0;\n\nvar utils_js_1 = require(\"../utils.js\");\n/**\n * Set multiple CSS properties for every matched element.\n *\n * @category CSS\n * @param prop - The names of the properties.\n * @param val - The new values.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/css/}\n */\n\n\nfunction css(prop, val) {\n  if (prop != null && val != null || // When `prop` is a \"plain\" object\n  typeof prop === 'object' && !Array.isArray(prop)) {\n    return (0, utils_js_1.domEach)(this, function (el, i) {\n      if ((0, utils_js_1.isTag)(el)) {\n        // `prop` can't be an array here anymore.\n        setCss(el, prop, val, i);\n      }\n    });\n  }\n\n  if (this.length === 0) {\n    return undefined;\n  }\n\n  return getCss(this[0], prop);\n}\n\nexports.css = css;\n/**\n * Set styles of all elements.\n *\n * @private\n * @param el - Element to set style of.\n * @param prop - Name of property.\n * @param value - Value to set property to.\n * @param idx - Optional index within the selection.\n */\n\nfunction setCss(el, prop, value, idx) {\n  if (typeof prop === 'string') {\n    var styles = getCss(el);\n    var val = typeof value === 'function' ? value.call(el, idx, styles[prop]) : value;\n\n    if (val === '') {\n      delete styles[prop];\n    } else if (val != null) {\n      styles[prop] = val;\n    }\n\n    el.attribs['style'] = stringify(styles);\n  } else if (typeof prop === 'object') {\n    Object.keys(prop).forEach(function (k, i) {\n      setCss(el, k, prop[k], i);\n    });\n  }\n}\n\nfunction getCss(el, prop) {\n  if (!el || !(0, utils_js_1.isTag)(el)) return;\n  var styles = parse(el.attribs['style']);\n\n  if (typeof prop === 'string') {\n    return styles[prop];\n  }\n\n  if (Array.isArray(prop)) {\n    var newStyles_1 = {};\n    prop.forEach(function (item) {\n      if (styles[item] != null) {\n        newStyles_1[item] = styles[item];\n      }\n    });\n    return newStyles_1;\n  }\n\n  return styles;\n}\n/**\n * Stringify `obj` to styles.\n *\n * @private\n * @category CSS\n * @param obj - Object to stringify.\n * @returns The serialized styles.\n */\n\n\nfunction stringify(obj) {\n  return Object.keys(obj).reduce(function (str, prop) {\n    return \"\".concat(str).concat(str ? ' ' : '').concat(prop, \": \").concat(obj[prop], \";\");\n  }, '');\n}\n/**\n * Parse `styles`.\n *\n * @private\n * @category CSS\n * @param styles - Styles to be parsed.\n * @returns The parsed styles.\n */\n\n\nfunction parse(styles) {\n  styles = (styles || '').trim();\n  if (!styles) return {};\n  var obj = {};\n  var key;\n\n  for (var _i = 0, _a = styles.split(';'); _i < _a.length; _i++) {\n    var str = _a[_i];\n    var n = str.indexOf(':'); // If there is no :, or if it is the first/last character, add to the previous item's value\n\n    if (n < 1 || n === str.length - 1) {\n      var trimmed = str.trimEnd();\n\n      if (trimmed.length > 0 && key !== undefined) {\n        obj[key] += \";\".concat(trimmed);\n      }\n    } else {\n      key = str.slice(0, n).trim();\n      obj[key] = str.slice(n + 1).trim();\n    }\n  }\n\n  return obj;\n}","map":{"version":3,"mappings":"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","names":["css","prop","val","Array","isArray","el","i","setCss","length","undefined","getCss","exports","value","idx","styles","call","attribs","stringify","Object","keys","forEach","k","parse","newStyles_1","item","obj","reduce","str","concat","trim","key","split","_i","n","indexOf","trimmed","trimEnd","slice"],"sources":["api/css.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.compilePseudoSelector = exports.aliases = exports.pseudos = exports.filters = void 0;\n\nvar css_what_1 = require(\"css-what\");\n\nvar filters_js_1 = require(\"./filters.js\");\n\nObject.defineProperty(exports, \"filters\", {\n  enumerable: true,\n  get: function () {\n    return filters_js_1.filters;\n  }\n});\n\nvar pseudos_js_1 = require(\"./pseudos.js\");\n\nObject.defineProperty(exports, \"pseudos\", {\n  enumerable: true,\n  get: function () {\n    return pseudos_js_1.pseudos;\n  }\n});\n\nvar aliases_js_1 = require(\"./aliases.js\");\n\nObject.defineProperty(exports, \"aliases\", {\n  enumerable: true,\n  get: function () {\n    return aliases_js_1.aliases;\n  }\n});\n\nvar subselects_js_1 = require(\"./subselects.js\");\n\nfunction compilePseudoSelector(next, selector, options, context, compileToken) {\n  var _a;\n\n  var name = selector.name,\n      data = selector.data;\n\n  if (Array.isArray(data)) {\n    if (!(name in subselects_js_1.subselects)) {\n      throw new Error(\"Unknown pseudo-class :\".concat(name, \"(\").concat(data, \")\"));\n    }\n\n    return subselects_js_1.subselects[name](next, data, options, context, compileToken);\n  }\n\n  var userPseudo = (_a = options.pseudos) === null || _a === void 0 ? void 0 : _a[name];\n  var stringPseudo = typeof userPseudo === \"string\" ? userPseudo : aliases_js_1.aliases[name];\n\n  if (typeof stringPseudo === \"string\") {\n    if (data != null) {\n      throw new Error(\"Pseudo \".concat(name, \" doesn't have any arguments\"));\n    } // The alias has to be parsed here, to make sure options are respected.\n\n\n    var alias = (0, css_what_1.parse)(stringPseudo);\n    return subselects_js_1.subselects[\"is\"](next, alias, options, context, compileToken);\n  }\n\n  if (typeof userPseudo === \"function\") {\n    (0, pseudos_js_1.verifyPseudoArgs)(userPseudo, name, data, 1);\n    return function (elem) {\n      return userPseudo(elem, data) && next(elem);\n    };\n  }\n\n  if (name in filters_js_1.filters) {\n    return filters_js_1.filters[name](next, data, options, context);\n  }\n\n  if (name in pseudos_js_1.pseudos) {\n    var pseudo_1 = pseudos_js_1.pseudos[name];\n    (0, pseudos_js_1.verifyPseudoArgs)(pseudo_1, name, data, 2);\n    return function (elem) {\n      return pseudo_1(elem, options, data) && next(elem);\n    };\n  }\n\n  throw new Error(\"Unknown pseudo-class :\".concat(name));\n}\n\nexports.compilePseudoSelector = compilePseudoSelector;","map":{"version":3,"mappings":";;;;;;;AAeA;;AACA;;AAKSA;EAAAC;EAAAC;IAAA,OALAC,oBAKA;EALO;AAKP;;AAJT;;AAIkBH;EAAAC;EAAAC;IAAA,OAJTE,oBAIS;EAJF;AAIE;;AAHlB;;AAG2BJ;EAAAC;EAAAC;IAAA,OAHlBG,oBAGkB;EAHX;AAGW;;AAF3B;;AAIA,SAAgBC,qBAAhB,CACIC,IADJ,EAEIC,QAFJ,EAGIC,OAHJ,EAIIC,OAJJ,EAKIC,YALJ,EAKiD;;;EAErC,QAAI,GAAWH,QAAQ,KAAvB;EAAA,IAAMI,IAAI,GAAKJ,QAAQ,KAAvB;;EAER,IAAIK,KAAK,CAACC,OAAN,CAAcF,IAAd,CAAJ,EAAyB;IACrB,IAAI,EAAEG,IAAI,IAAIC,0BAAV,CAAJ,EAA2B;MACvB,MAAM,IAAIC,KAAJ,CAAU,gCAAyBF,IAAzB,EAA6B,GAA7B,EAA6BG,MAA7B,CAAiCN,IAAjC,EAAqC,GAArC,CAAV,CAAN;IACH;;IAED,OAAOI,2BAAWD,IAAX,EAAiBR,IAAjB,EAAuBK,IAAvB,EAA6BH,OAA7B,EAAsCC,OAAtC,EAA+CC,YAA/C,CAAP;EACH;;EAED,IAAMQ,UAAU,GAAG,aAAO,CAACC,OAAR,MAAe,IAAf,IAAeC,aAAf,GAAe,MAAf,GAAeA,GAAGN,IAAH,CAAlC;EAEA,IAAMO,YAAY,GACd,OAAOH,UAAP,KAAsB,QAAtB,GAAiCA,UAAjC,GAA8Cd,qBAAQU,IAAR,CADlD;;EAGA,IAAI,OAAOO,YAAP,KAAwB,QAA5B,EAAsC;IAClC,IAAIV,IAAI,IAAI,IAAZ,EAAkB;MACd,MAAM,IAAIK,KAAJ,CAAU,iBAAUF,IAAV,EAAc,6BAAd,CAAV,CAAN;IACH,CAHiC,CAKlC;;;IACA,IAAMQ,KAAK,GAAG,sBAAMD,YAAN,CAAd;IACA,OAAON,2BAAW,IAAX,EAAiBT,IAAjB,EAAuBgB,KAAvB,EAA8Bd,OAA9B,EAAuCC,OAAvC,EAAgDC,YAAhD,CAAP;EACH;;EAED,IAAI,OAAOQ,UAAP,KAAsB,UAA1B,EAAsC;IAClC,mCAAiBA,UAAjB,EAA6BJ,IAA7B,EAAmCH,IAAnC,EAAyC,CAAzC;IAEA,OAAO,UAACY,IAAD,EAAK;MAAK,iBAAU,CAACA,IAAD,EAAOZ,IAAP,CAAV,IAA0BL,IAAI,CAACiB,IAAD,CAA9B;IAAoC,CAArD;EACH;;EAED,IAAIT,IAAI,IAAIZ,oBAAZ,EAAqB;IACjB,OAAOA,qBAAQY,IAAR,EAAcR,IAAd,EAAoBK,IAApB,EAAoCH,OAApC,EAA6CC,OAA7C,CAAP;EACH;;EAED,IAAIK,IAAI,IAAIX,oBAAZ,EAAqB;IACjB,IAAMqB,QAAM,GAAGrB,qBAAQW,IAAR,CAAf;IACA,mCAAiBU,QAAjB,EAAyBV,IAAzB,EAA+BH,IAA/B,EAAqC,CAArC;IAEA,OAAO,UAACY,IAAD,EAAK;MAAK,eAAM,CAACA,IAAD,EAAOf,OAAP,EAAgBG,IAAhB,CAAN,IAA+BL,IAAI,CAACiB,IAAD,CAAnC;IAAyC,CAA1D;EACH;;EAED,MAAM,IAAIP,KAAJ,CAAU,gCAAyBF,IAAzB,CAAV,CAAN;AACH;;AAlDDW","names":["Object","enumerable","get","filters_js_1","pseudos_js_1","aliases_js_1","compilePseudoSelector","next","selector","options","context","compileToken","data","Array","isArray","name","subselects_js_1","Error","concat","userPseudo","pseudos","_a","stringPseudo","alias","elem","pseudo_1","exports"],"sources":["pseudo-selectors/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}
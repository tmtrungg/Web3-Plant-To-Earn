{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.func = void 0;\n\nconst hash_1 = require(\"../utils/hash\");\n\nconst stringify_1 = require(\"../utils/stringify\");\n\nconst symbols_1 = require(\"../check/symbols\");\n\nconst array_1 = require(\"./array\");\n\nconst integer_1 = require(\"./integer\");\n\nconst tuple_1 = require(\"./tuple\");\n\nconst TextEscaper_1 = require(\"./_internals/helpers/TextEscaper\");\n\nfunction func(arb) {\n  return (0, tuple_1.tuple)((0, array_1.array)(arb, {\n    minLength: 1\n  }), (0, integer_1.integer)().noShrink()).map(_ref => {\n    let [outs, seed] = _ref;\n\n    const producer = () => {\n      const recorded = {};\n\n      const f = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        const repr = (0, stringify_1.stringify)(args);\n        const val = outs[(0, hash_1.hash)(`${seed}${repr}`) % outs.length];\n        recorded[repr] = val;\n        return (0, symbols_1.hasCloneMethod)(val) ? val[symbols_1.cloneMethod]() : val;\n      };\n\n      function prettyPrint(stringifiedOuts) {\n        const seenValues = Object.keys(recorded).sort().map(k => `${k} => ${(0, stringify_1.stringify)(recorded[k])}`).map(line => `/* ${(0, TextEscaper_1.escapeForMultilineComments)(line)} */`);\n        return `function(...args) {\n  // With hash and stringify coming from fast-check${seenValues.length !== 0 ? `\\n  ${seenValues.join('\\n  ')}` : ''}\n  const outs = ${stringifiedOuts};\n  return outs[hash('${seed}' + stringify(args)) % outs.length];\n}`;\n      }\n\n      return Object.defineProperties(f, {\n        toString: {\n          value: () => prettyPrint((0, stringify_1.stringify)(outs))\n        },\n        [stringify_1.toStringMethod]: {\n          value: () => prettyPrint((0, stringify_1.stringify)(outs))\n        },\n        [stringify_1.asyncToStringMethod]: {\n          value: async () => prettyPrint(await (0, stringify_1.asyncStringify)(outs))\n        },\n        [symbols_1.cloneMethod]: {\n          value: producer,\n          configurable: true\n        }\n      });\n    };\n\n    return producer();\n  });\n}\n\nexports.func = func;","map":{"version":3,"names":["Object","defineProperty","exports","value","func","hash_1","require","stringify_1","symbols_1","array_1","integer_1","tuple_1","TextEscaper_1","arb","tuple","array","minLength","integer","noShrink","map","outs","seed","producer","recorded","f","args","repr","stringify","val","hash","length","hasCloneMethod","cloneMethod","prettyPrint","stringifiedOuts","seenValues","keys","sort","k","line","escapeForMultilineComments","join","defineProperties","toString","toStringMethod","asyncToStringMethod","asyncStringify","configurable"],"sources":["/Users/tranminhtrung/Desktop/learn_web3/gamble/node_modules/fast-check/lib/arbitrary/func.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.func = void 0;\nconst hash_1 = require(\"../utils/hash\");\nconst stringify_1 = require(\"../utils/stringify\");\nconst symbols_1 = require(\"../check/symbols\");\nconst array_1 = require(\"./array\");\nconst integer_1 = require(\"./integer\");\nconst tuple_1 = require(\"./tuple\");\nconst TextEscaper_1 = require(\"./_internals/helpers/TextEscaper\");\nfunction func(arb) {\n    return (0, tuple_1.tuple)((0, array_1.array)(arb, { minLength: 1 }), (0, integer_1.integer)().noShrink()).map(([outs, seed]) => {\n        const producer = () => {\n            const recorded = {};\n            const f = (...args) => {\n                const repr = (0, stringify_1.stringify)(args);\n                const val = outs[(0, hash_1.hash)(`${seed}${repr}`) % outs.length];\n                recorded[repr] = val;\n                return (0, symbols_1.hasCloneMethod)(val) ? val[symbols_1.cloneMethod]() : val;\n            };\n            function prettyPrint(stringifiedOuts) {\n                const seenValues = Object.keys(recorded)\n                    .sort()\n                    .map((k) => `${k} => ${(0, stringify_1.stringify)(recorded[k])}`)\n                    .map((line) => `/* ${(0, TextEscaper_1.escapeForMultilineComments)(line)} */`);\n                return `function(...args) {\n  // With hash and stringify coming from fast-check${seenValues.length !== 0 ? `\\n  ${seenValues.join('\\n  ')}` : ''}\n  const outs = ${stringifiedOuts};\n  return outs[hash('${seed}' + stringify(args)) % outs.length];\n}`;\n            }\n            return Object.defineProperties(f, {\n                toString: { value: () => prettyPrint((0, stringify_1.stringify)(outs)) },\n                [stringify_1.toStringMethod]: { value: () => prettyPrint((0, stringify_1.stringify)(outs)) },\n                [stringify_1.asyncToStringMethod]: { value: async () => prettyPrint(await (0, stringify_1.asyncStringify)(outs)) },\n                [symbols_1.cloneMethod]: { value: producer, configurable: true },\n            });\n        };\n        return producer();\n    });\n}\nexports.func = func;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}
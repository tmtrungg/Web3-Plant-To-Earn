{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.statistics = exports.sample = void 0;\n\nconst Stream_1 = require(\"../../stream/Stream\");\n\nconst Property_generic_1 = require(\"../property/Property.generic\");\n\nconst UnbiasedProperty_1 = require(\"../property/UnbiasedProperty\");\n\nconst GlobalParameters_1 = require(\"./configuration/GlobalParameters\");\n\nconst QualifiedParameters_1 = require(\"./configuration/QualifiedParameters\");\n\nconst Tosser_1 = require(\"./Tosser\");\n\nconst PathWalker_1 = require(\"./utils/PathWalker\");\n\nfunction toProperty(generator, qParams) {\n  const prop = !Object.prototype.hasOwnProperty.call(generator, 'isAsync') ? new Property_generic_1.Property(generator, () => true) : generator;\n  return qParams.unbiased === true ? new UnbiasedProperty_1.UnbiasedProperty(prop) : prop;\n}\n\nfunction streamSample(generator, params) {\n  const extendedParams = typeof params === 'number' ? Object.assign(Object.assign({}, (0, GlobalParameters_1.readConfigureGlobal)()), {\n    numRuns: params\n  }) : Object.assign(Object.assign({}, (0, GlobalParameters_1.readConfigureGlobal)()), params);\n  const qParams = QualifiedParameters_1.QualifiedParameters.read(extendedParams);\n  const nextProperty = toProperty(generator, qParams);\n  const shrink = nextProperty.shrink.bind(nextProperty);\n  const tossedValues = (0, Stream_1.stream)((0, Tosser_1.toss)(nextProperty, qParams.seed, qParams.randomType, qParams.examples));\n\n  if (qParams.path.length === 0) {\n    return tossedValues.take(qParams.numRuns).map(s => s().value_);\n  }\n\n  return (0, Stream_1.stream)((0, PathWalker_1.pathWalk)(qParams.path, tossedValues.map(s => s()), shrink)).take(qParams.numRuns).map(s => s.value_);\n}\n\nfunction sample(generator, params) {\n  return [...streamSample(generator, params)];\n}\n\nexports.sample = sample;\n\nfunction round2(n) {\n  return (Math.round(n * 100) / 100).toFixed(2);\n}\n\nfunction statistics(generator, classify, params) {\n  const extendedParams = typeof params === 'number' ? Object.assign(Object.assign({}, (0, GlobalParameters_1.readConfigureGlobal)()), {\n    numRuns: params\n  }) : Object.assign(Object.assign({}, (0, GlobalParameters_1.readConfigureGlobal)()), params);\n  const qParams = QualifiedParameters_1.QualifiedParameters.read(extendedParams);\n  const recorded = {};\n\n  for (const g of streamSample(generator, params)) {\n    const out = classify(g);\n    const categories = Array.isArray(out) ? out : [out];\n\n    for (const c of categories) {\n      recorded[c] = (recorded[c] || 0) + 1;\n    }\n  }\n\n  const data = Object.entries(recorded).sort((a, b) => b[1] - a[1]).map(i => [i[0], `${round2(i[1] * 100.0 / qParams.numRuns)}%`]);\n  const longestName = data.map(i => i[0].length).reduce((p, c) => Math.max(p, c), 0);\n  const longestPercent = data.map(i => i[1].length).reduce((p, c) => Math.max(p, c), 0);\n\n  for (const item of data) {\n    qParams.logger(`${item[0].padEnd(longestName, '.')}..${item[1].padStart(longestPercent, '.')}`);\n  }\n}\n\nexports.statistics = statistics;","map":{"version":3,"names":["Object","defineProperty","exports","value","statistics","sample","Stream_1","require","Property_generic_1","UnbiasedProperty_1","GlobalParameters_1","QualifiedParameters_1","Tosser_1","PathWalker_1","toProperty","generator","qParams","prop","prototype","hasOwnProperty","call","Property","unbiased","UnbiasedProperty","streamSample","params","extendedParams","assign","readConfigureGlobal","numRuns","QualifiedParameters","read","nextProperty","shrink","bind","tossedValues","stream","toss","seed","randomType","examples","path","length","take","map","s","value_","pathWalk","round2","n","Math","round","toFixed","classify","recorded","g","out","categories","Array","isArray","c","data","entries","sort","a","b","i","longestName","reduce","p","max","longestPercent","item","logger","padEnd","padStart"],"sources":["/Users/tranminhtrung/Desktop/learn_web3/gamble/node_modules/fast-check/lib/check/runner/Sampler.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.statistics = exports.sample = void 0;\nconst Stream_1 = require(\"../../stream/Stream\");\nconst Property_generic_1 = require(\"../property/Property.generic\");\nconst UnbiasedProperty_1 = require(\"../property/UnbiasedProperty\");\nconst GlobalParameters_1 = require(\"./configuration/GlobalParameters\");\nconst QualifiedParameters_1 = require(\"./configuration/QualifiedParameters\");\nconst Tosser_1 = require(\"./Tosser\");\nconst PathWalker_1 = require(\"./utils/PathWalker\");\nfunction toProperty(generator, qParams) {\n    const prop = !Object.prototype.hasOwnProperty.call(generator, 'isAsync')\n        ? new Property_generic_1.Property(generator, () => true)\n        : generator;\n    return qParams.unbiased === true ? new UnbiasedProperty_1.UnbiasedProperty(prop) : prop;\n}\nfunction streamSample(generator, params) {\n    const extendedParams = typeof params === 'number'\n        ? Object.assign(Object.assign({}, (0, GlobalParameters_1.readConfigureGlobal)()), { numRuns: params }) : Object.assign(Object.assign({}, (0, GlobalParameters_1.readConfigureGlobal)()), params);\n    const qParams = QualifiedParameters_1.QualifiedParameters.read(extendedParams);\n    const nextProperty = toProperty(generator, qParams);\n    const shrink = nextProperty.shrink.bind(nextProperty);\n    const tossedValues = (0, Stream_1.stream)((0, Tosser_1.toss)(nextProperty, qParams.seed, qParams.randomType, qParams.examples));\n    if (qParams.path.length === 0) {\n        return tossedValues.take(qParams.numRuns).map((s) => s().value_);\n    }\n    return (0, Stream_1.stream)((0, PathWalker_1.pathWalk)(qParams.path, tossedValues.map((s) => s()), shrink))\n        .take(qParams.numRuns)\n        .map((s) => s.value_);\n}\nfunction sample(generator, params) {\n    return [...streamSample(generator, params)];\n}\nexports.sample = sample;\nfunction round2(n) {\n    return (Math.round(n * 100) / 100).toFixed(2);\n}\nfunction statistics(generator, classify, params) {\n    const extendedParams = typeof params === 'number'\n        ? Object.assign(Object.assign({}, (0, GlobalParameters_1.readConfigureGlobal)()), { numRuns: params }) : Object.assign(Object.assign({}, (0, GlobalParameters_1.readConfigureGlobal)()), params);\n    const qParams = QualifiedParameters_1.QualifiedParameters.read(extendedParams);\n    const recorded = {};\n    for (const g of streamSample(generator, params)) {\n        const out = classify(g);\n        const categories = Array.isArray(out) ? out : [out];\n        for (const c of categories) {\n            recorded[c] = (recorded[c] || 0) + 1;\n        }\n    }\n    const data = Object.entries(recorded)\n        .sort((a, b) => b[1] - a[1])\n        .map((i) => [i[0], `${round2((i[1] * 100.0) / qParams.numRuns)}%`]);\n    const longestName = data.map((i) => i[0].length).reduce((p, c) => Math.max(p, c), 0);\n    const longestPercent = data.map((i) => i[1].length).reduce((p, c) => Math.max(p, c), 0);\n    for (const item of data) {\n        qParams.logger(`${item[0].padEnd(longestName, '.')}..${item[1].padStart(longestPercent, '.')}`);\n    }\n}\nexports.statistics = statistics;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}
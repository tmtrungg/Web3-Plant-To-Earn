{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.adapter = void 0;\n\nconst Arbitrary_1 = require(\"../../check/arbitrary/definition/Arbitrary\");\n\nconst Value_1 = require(\"../../check/arbitrary/definition/Value\");\n\nconst Stream_1 = require(\"../../stream/Stream\");\n\nconst AdaptedValue = Symbol('adapted-value');\n\nfunction toAdapterValue(rawValue, adapter) {\n  const adapted = adapter(rawValue.value_);\n\n  if (!adapted.adapted) {\n    return rawValue;\n  }\n\n  return new Value_1.Value(adapted.value, AdaptedValue);\n}\n\nclass AdapterArbitrary extends Arbitrary_1.Arbitrary {\n  constructor(sourceArb, adapter) {\n    super();\n    this.sourceArb = sourceArb;\n    this.adapter = adapter;\n\n    this.adaptValue = rawValue => toAdapterValue(rawValue, adapter);\n  }\n\n  generate(mrng, biasFactor) {\n    const rawValue = this.sourceArb.generate(mrng, biasFactor);\n    return this.adaptValue(rawValue);\n  }\n\n  canShrinkWithoutContext(value) {\n    return this.sourceArb.canShrinkWithoutContext(value) && !this.adapter(value).adapted;\n  }\n\n  shrink(value, context) {\n    if (context === AdaptedValue) {\n      if (!this.sourceArb.canShrinkWithoutContext(value)) {\n        return Stream_1.Stream.nil();\n      }\n\n      return this.sourceArb.shrink(value, undefined).map(this.adaptValue);\n    }\n\n    return this.sourceArb.shrink(value, context).map(this.adaptValue);\n  }\n\n}\n\nfunction adapter(sourceArb, adapter) {\n  return new AdapterArbitrary(sourceArb, adapter);\n}\n\nexports.adapter = adapter;","map":{"version":3,"names":["Object","defineProperty","exports","value","adapter","Arbitrary_1","require","Value_1","Stream_1","AdaptedValue","Symbol","toAdapterValue","rawValue","adapted","value_","Value","AdapterArbitrary","Arbitrary","constructor","sourceArb","adaptValue","generate","mrng","biasFactor","canShrinkWithoutContext","shrink","context","Stream","nil","undefined","map"],"sources":["/Users/tranminhtrung/Desktop/learn_web3/gamble/node_modules/fast-check/lib/arbitrary/_internals/AdapterArbitrary.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.adapter = void 0;\nconst Arbitrary_1 = require(\"../../check/arbitrary/definition/Arbitrary\");\nconst Value_1 = require(\"../../check/arbitrary/definition/Value\");\nconst Stream_1 = require(\"../../stream/Stream\");\nconst AdaptedValue = Symbol('adapted-value');\nfunction toAdapterValue(rawValue, adapter) {\n    const adapted = adapter(rawValue.value_);\n    if (!adapted.adapted) {\n        return rawValue;\n    }\n    return new Value_1.Value(adapted.value, AdaptedValue);\n}\nclass AdapterArbitrary extends Arbitrary_1.Arbitrary {\n    constructor(sourceArb, adapter) {\n        super();\n        this.sourceArb = sourceArb;\n        this.adapter = adapter;\n        this.adaptValue = (rawValue) => toAdapterValue(rawValue, adapter);\n    }\n    generate(mrng, biasFactor) {\n        const rawValue = this.sourceArb.generate(mrng, biasFactor);\n        return this.adaptValue(rawValue);\n    }\n    canShrinkWithoutContext(value) {\n        return this.sourceArb.canShrinkWithoutContext(value) && !this.adapter(value).adapted;\n    }\n    shrink(value, context) {\n        if (context === AdaptedValue) {\n            if (!this.sourceArb.canShrinkWithoutContext(value)) {\n                return Stream_1.Stream.nil();\n            }\n            return this.sourceArb.shrink(value, undefined).map(this.adaptValue);\n        }\n        return this.sourceArb.shrink(value, context).map(this.adaptValue);\n    }\n}\nfunction adapter(sourceArb, adapter) {\n    return new AdapterArbitrary(sourceArb, adapter);\n}\nexports.adapter = adapter;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AACA,MAAMC,WAAW,GAAGC,OAAO,CAAC,4CAAD,CAA3B;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,wCAAD,CAAvB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,qBAAD,CAAxB;;AACA,MAAMG,YAAY,GAAGC,MAAM,CAAC,eAAD,CAA3B;;AACA,SAASC,cAAT,CAAwBC,QAAxB,EAAkCR,OAAlC,EAA2C;EACvC,MAAMS,OAAO,GAAGT,OAAO,CAACQ,QAAQ,CAACE,MAAV,CAAvB;;EACA,IAAI,CAACD,OAAO,CAACA,OAAb,EAAsB;IAClB,OAAOD,QAAP;EACH;;EACD,OAAO,IAAIL,OAAO,CAACQ,KAAZ,CAAkBF,OAAO,CAACV,KAA1B,EAAiCM,YAAjC,CAAP;AACH;;AACD,MAAMO,gBAAN,SAA+BX,WAAW,CAACY,SAA3C,CAAqD;EACjDC,WAAW,CAACC,SAAD,EAAYf,OAAZ,EAAqB;IAC5B;IACA,KAAKe,SAAL,GAAiBA,SAAjB;IACA,KAAKf,OAAL,GAAeA,OAAf;;IACA,KAAKgB,UAAL,GAAmBR,QAAD,IAAcD,cAAc,CAACC,QAAD,EAAWR,OAAX,CAA9C;EACH;;EACDiB,QAAQ,CAACC,IAAD,EAAOC,UAAP,EAAmB;IACvB,MAAMX,QAAQ,GAAG,KAAKO,SAAL,CAAeE,QAAf,CAAwBC,IAAxB,EAA8BC,UAA9B,CAAjB;IACA,OAAO,KAAKH,UAAL,CAAgBR,QAAhB,CAAP;EACH;;EACDY,uBAAuB,CAACrB,KAAD,EAAQ;IAC3B,OAAO,KAAKgB,SAAL,CAAeK,uBAAf,CAAuCrB,KAAvC,KAAiD,CAAC,KAAKC,OAAL,CAAaD,KAAb,EAAoBU,OAA7E;EACH;;EACDY,MAAM,CAACtB,KAAD,EAAQuB,OAAR,EAAiB;IACnB,IAAIA,OAAO,KAAKjB,YAAhB,EAA8B;MAC1B,IAAI,CAAC,KAAKU,SAAL,CAAeK,uBAAf,CAAuCrB,KAAvC,CAAL,EAAoD;QAChD,OAAOK,QAAQ,CAACmB,MAAT,CAAgBC,GAAhB,EAAP;MACH;;MACD,OAAO,KAAKT,SAAL,CAAeM,MAAf,CAAsBtB,KAAtB,EAA6B0B,SAA7B,EAAwCC,GAAxC,CAA4C,KAAKV,UAAjD,CAAP;IACH;;IACD,OAAO,KAAKD,SAAL,CAAeM,MAAf,CAAsBtB,KAAtB,EAA6BuB,OAA7B,EAAsCI,GAAtC,CAA0C,KAAKV,UAA/C,CAAP;EACH;;AAtBgD;;AAwBrD,SAAShB,OAAT,CAAiBe,SAAjB,EAA4Bf,OAA5B,EAAqC;EACjC,OAAO,IAAIY,gBAAJ,CAAqBG,SAArB,EAAgCf,OAAhC,CAAP;AACH;;AACDF,OAAO,CAACE,OAAR,GAAkBA,OAAlB"},"metadata":{},"sourceType":"script"}